(function(){var e={9425:function(e,a,t){"use strict";var o=t(5130),s=t(6768);function n(e,a,t,o,n,l){const r=(0,s.g2)("AppNavbar"),i=(0,s.g2)("NotificationApp"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(r),(0,s.bF)(i,{message:o.notification.message,type:o.notification.type},null,8,["message","type"]),(0,s.bF)(d)])}var l=t(4232);const r=e=>((0,s.Qi)("data-v-64796ac8"),e=e(),(0,s.jt)(),e),i={class:"navbar navbar-expand-lg navbar-dark bg-dark"},d={class:"container"},c=["src"],u=r((()=>(0,s.Lk)("a",{class:"navbar-brand",href:"#"},"Toobo",-1))),m=r((()=>(0,s.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s.Lk)("span",{class:"navbar-toggler-icon"})],-1))),p={class:"collapse navbar-collapse",id:"navbarSupportedContent"},v={class:"navbar-nav ms-auto mb-2 mb-lg-0"},b={class:"nav-item"},k={key:0,class:"nav-item"},g={key:1,class:"nav-item"},L={key:2,class:"nav-item"},h={class:"nav-link"},f={key:3,class:"nav-item"},y={key:4,class:"nav-item"};function w(e,a,t,o,n,r){const w=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",i,[(0,s.Lk)("div",d,[(0,s.Lk)("img",{src:n.logoUrl,alt:"Logo",class:"navbar-logo"},null,8,c),u,m,(0,s.Lk)("div",p,[(0,s.Lk)("ul",v,[(0,s.Lk)("li",b,[(0,s.bF)(w,{class:"nav-link active",to:"/"},{default:(0,s.k6)((()=>[(0,s.eW)("Home")])),_:1})]),o.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",k,[(0,s.bF)(w,{class:"nav-link",to:"/login"},{default:(0,s.k6)((()=>[(0,s.eW)("Login")])),_:1})])),o.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",g,[(0,s.bF)(w,{class:"nav-link",to:"/register"},{default:(0,s.k6)((()=>[(0,s.eW)("Register")])),_:1})])),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("li",L,[(0,s.Lk)("span",h,(0,l.v_)(o.username),1)])):(0,s.Q3)("",!0),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("li",f,[(0,s.Lk)("button",{class:"btn btn-link nav-link",onClick:a[0]||(a[0]=(...e)=>o.logout&&o.logout(...e))},"Logout")])):(0,s.Q3)("",!0),o.isAdmin?((0,s.uX)(),(0,s.CE)("li",y,[(0,s.bF)(w,{class:"nav-link",to:"/admin-dashboard"},{default:(0,s.k6)((()=>[(0,s.eW)("Dashboard")])),_:1})])):(0,s.Q3)("",!0)])])])])}t(4114);var C=t(782),A=t(1387);function E(e,a,t,o,n,l){const r=(0,s.g2)("AppMaps"),i=(0,s.g2)("MeteoApp"),d=(0,s.g2)("AppShop");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(r),(0,s.bF)(i),(0,s.bF)(d)])}const U=e=>((0,s.Qi)("data-v-e585516e"),e=e(),(0,s.jt)(),e),M={class:"map-container"},P={ref:"geocoderContainer",class:"geocoder-container flex-center"},x={ref:"map",class:"map"},K={ref:"geolocateContainer",class:"geolocate-container"},j=U((()=>(0,s.Lk)("div",{class:"geolocate-control custom-geolocate-button"},null,-1))),R=[j];function I(e,a,t,o,n,l){return(0,s.uX)(),(0,s.CE)("div",M,[(0,s.Lk)("div",P,null,512),(0,s.Lk)("div",x,null,512),(0,s.Lk)("div",K,R,512)])}var $=t(2693),X=t.n($),F=t(8832),N=t.n(F),T={data(){return{searchQuery:"",mapboxAccessToken:"pk.eyJ1IjoidGlibzYxIiwiYSI6ImNsc2ttaWd5NDA0anEya3JuN2F4cWJheDIifQ.8Y7HydMrAImeaYD6xPm_vg"}},mounted(){X().accessToken=this.mapboxAccessToken,this.map=new(X().Map)({container:this.$refs.map,style:"mapbox://styles/mapbox/streets-v11",center:[2.3522,48.8566],zoom:11,attributionControl:!1});const e=new(X().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0});if(this.map.addControl(e),window.innerWidth<=600){const e=new(N())({accessToken:X().accessToken,mapboxgl:X(),placeholder:"Entrez une adresse"}),a=e.onAdd(this.map);this.$refs.geocoderContainer.appendChild(a)}else{const e=new(N())({accessToken:X().accessToken,mapboxgl:X(),placeholder:"Entrez une adresse"});this.map.addControl(e,"top-left"),this.map.addControl(new(X().NavigationControl)({showCompass:!1}))}}},J=t(1241);const _=(0,J.A)(T,[["render",I],["__scopeId","data-v-e585516e"]]);var O=_;const S={class:"container"},V=(0,s.Lk)("div",{id:"openweathermap-widget-15"},null,-1),D=[V];function Q(e,a,t,o,n,l){return(0,s.uX)(),(0,s.CE)("div",S,D)}var W={mounted(){window.myWidgetParam?window.myWidgetParam:window.myWidgetParam=[],window.myWidgetParam.push({id:15,cityid:"3003603",appid:"740ecf1f34a8de40fb609316e481a77e",units:"metric",containerid:"openweathermap-widget-15"}),function(){var e=document.createElement("script");e.async=!0,e.charset="utf-8",e.src="//openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}()}};const z=(0,J.A)(W,[["render",Q]]);var q=z;const H=e=>((0,s.Qi)("data-v-0d9a4f0e"),e=e(),(0,s.jt)(),e),G={key:0,class:"form-container"},Z=H((()=>(0,s.Lk)("option",{disabled:"",value:""},"Veuillez sélectionner une catégorie",-1))),B=H((()=>(0,s.Lk)("option",null,"Jeans",-1))),Y=H((()=>(0,s.Lk)("option",null,"T-shirt",-1))),ee=H((()=>(0,s.Lk)("option",null,"Chaussette",-1))),ae=H((()=>(0,s.Lk)("option",null,"Chaussure",-1))),te=[Z,B,Y,ee,ae],oe=H((()=>(0,s.Lk)("button",{type:"submit",class:"form-button"},"Ajouter le produit",-1))),se={key:0,class:"message"},ne={ref:"productsSection",class:"products-container"},le=["src","alt"],re={class:"button-container"},ie=["onClick"];function de(e,a,t,n,r,i){return(0,s.uX)(),(0,s.CE)("div",null,[n.isAdmin?((0,s.uX)(),(0,s.CE)("div",G,[(0,s.Lk)("form",{onSubmit:a[4]||(a[4]=(0,o.D$)(((...e)=>n.addProduct&&n.addProduct(...e)),["prevent"])),class:"product-form"},[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>n.name=e),placeholder:"Nom du produit",class:"form-input"},null,512),[[o.Jo,n.name]]),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>n.image=e),placeholder:"URL de l'image",class:"form-input"},null,512),[[o.Jo,n.image]]),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>n.price=e),placeholder:"Prix du produit",class:"form-input"},null,512),[[o.Jo,n.price]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>n.category=e),class:"form-input"},te,512),[[o.u1,n.category]]),oe],32),n.message?((0,s.uX)(),(0,s.CE)("div",se,(0,l.v_)(n.message),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("div",ne,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.products,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.name,class:"product-item"},[(0,s.Lk)("img",{src:e.image,alt:e.name,class:"product-image",onLoad:a[5]||(a[5]=(...e)=>n.scrollToProduct&&n.scrollToProduct(...e))},null,40,le),(0,s.Lk)("div",null,(0,l.v_)(e.name),1),(0,s.Lk)("div",null,(0,l.v_)(e.price),1)])))),128))],512),(0,s.Lk)("div",re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:"category-button",onClick:a=>n.fetchProducts(e)},(0,l.v_)(e),9,ie)))),128))])])}var ce=t(144),ue=t(4161),me={setup(){const e=(0,ce.KR)(""),a=(0,ce.KR)(""),t=(0,ce.KR)(""),o=(0,ce.KR)(""),n=(0,ce.KR)(["Jeans","T-shirt","Chaussette","Chaussure"]),l=(0,ce.KR)([]),r=(0,ce.KR)(""),i=(0,C.Pj)(),d=(0,s.EW)((()=>i.state.admin)),c=async()=>{if(!o.value)return void(r.value="Veuillez sélectionner une catégorie.");const s=(0,ue.C3)(),n=(0,ue.KR)(s,`products/${o.value}/${e.value}`);(0,ue.hZ)(n,{name:e.value,image:a.value,price:t.value}),e.value="",a.value="",t.value="",o.value="",r.value="Le produit a été ajouté avec succès !",setTimeout((()=>{r.value=""}),3e3)},u=async e=>{const a=(0,ue.C3)(),t=(0,ue.KR)(a,`products/${e}`);(0,ue.Zy)(t,(e=>{l.value=e.val()}))},m=()=>{(0,s.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))};return(0,s.wB)(l,(()=>{(0,s.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))})),{isAdmin:d,name:e,image:a,price:t,category:o,categories:n,products:l,addProduct:c,fetchProducts:u,scrollToProduct:m,message:r}}};const pe=(0,J.A)(me,[["render",de],["__scopeId","data-v-0d9a4f0e"]]);var ve=pe,be={name:"HomePage",components:{AppMaps:O,MeteoApp:q,AppShop:ve},setup(){const e=(0,C.Pj)(),a=(0,s.EW)((()=>e.state.admin)),t=(0,s.EW)((()=>e.state.isLoggedIn));return{isAdmin:a,isLoggedIn:t}}};const ke=(0,J.A)(be,[["render",E]]);var ge=ke;const Le={class:"container mt-5"},he={class:"row justify-content-center"},fe={class:"col-md-12"},ye={class:"card"},we=(0,s.Lk)("div",{class:"card-header"},"Login",-1),Ce={class:"card-body"},Ae={class:"mb-3"},Ee=(0,s.Lk)("label",{class:"form-label"},"Email",-1),Ue={class:"mb-3"},Me=(0,s.Lk)("label",{class:"form-label"},"Password",-1),Pe=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1);function xe(e,a,t,n,l,r){return(0,s.uX)(),(0,s.CE)("div",Le,[(0,s.Lk)("div",he,[(0,s.Lk)("div",fe,[(0,s.Lk)("div",ye,[we,(0,s.Lk)("div",Ce,[(0,s.Lk)("form",{onSubmit:a[2]||(a[2]=(0,o.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,s.Lk)("div",Ae,[Ee,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=e=>n.email=e),class:"form-control",placeholder:"Email",required:""},null,512),[[o.Jo,n.email]])]),(0,s.Lk)("div",Ue,[Me,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>n.password=e),class:"form-control",placeholder:"Password",required:""},null,512),[[o.Jo,n.password]])]),Pe],32)])])])])])}var Ke=t(5600),je={setup(){const e=(0,C.Pj)(),a=(0,ce.KR)(""),t=(0,ce.KR)(""),o=async()=>{const o=(0,Ke.xI)();try{const s=await(0,Ke.x9)(o,t.value,a.value),n=s.user,l=(0,ue.C3)(),r=(0,ue.KR)(l,`users/${n.uid}`),i=await(0,ue.Jt)(r);i.exists()&&(n.username=i.val().username);const d=await e.dispatch("login",n);d?Ao.push("/admin-dashboard"):Ao.push("/"),e.dispatch("showNotification",{message:"Connexion réussie",type:"success"}),t.value="",a.value=""}catch(s){console.error(s.code),console.error(s.message),e.dispatch("showNotification",{message:s.message,type:"error"})}};return{email:t,password:a,login:o}}};const Re=(0,J.A)(je,[["render",xe]]);var Ie=Re;const $e={class:"container mt-5"},Xe={class:"row justify-content-center"},Fe={class:"col-md-12"},Ne={class:"card"},Te=(0,s.Lk)("div",{class:"card-header"},"Inscription",-1),Je={class:"card-body"},_e={class:"mb-3"},Oe=(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1),Se={class:"mb-3"},Ve=(0,s.Lk)("label",{class:"form-label"},"Email",-1),De={class:"mb-3"},Qe=(0,s.Lk)("label",{class:"form-label"},"Mot de passe",-1),We=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Inscription",-1),ze=(0,s.Lk)("br",null,null,-1);function qe(e,a,t,n,l,r){return(0,s.uX)(),(0,s.CE)("div",$e,[(0,s.Lk)("div",Xe,[(0,s.Lk)("div",Fe,[(0,s.Lk)("div",Ne,[Te,(0,s.Lk)("div",Je,[(0,s.Lk)("form",{onSubmit:a[3]||(a[3]=(0,o.D$)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[(0,s.Lk)("div",_e,[Oe,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>n.username=e),class:"form-control",placeholder:"Nom d'utilisateur",required:""},null,512),[[o.Jo,n.username]])]),(0,s.Lk)("div",Se,[Ve,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[1]||(a[1]=e=>n.email=e),class:"form-control",placeholder:"Email",required:""},null,512),[[o.Jo,n.email]])]),(0,s.Lk)("div",De,[Qe,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=e=>n.password=e),class:"form-control",placeholder:"Mot de passe",required:""},null,512),[[o.Jo,n.password]])]),We],32),ze])])])])])}var He={setup(){const e=(0,C.Pj)(),a=(0,ce.KR)(""),t=(0,ce.KR)(""),o=(0,ce.KR)(""),s=async()=>{const s=(0,Ke.xI)();(0,Ke.eG)(s);const n=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;if(n.test(o.value))if(t.value.length<6)e.dispatch("showNotification",{message:"Le mot de passe doit comporter au moins 6 caractères",type:"error"});else try{const n=await(0,Ke.eJ)(s,o.value,t.value),l=n.user,r=(0,ue.C3)(),i=(0,ue.KR)(r,`users/${l.uid}`);await(0,ue.hZ)(i,{admin:!1,email:l.email,username:a.value});const d=await(0,ue.Jt)(i);d.exists()&&(l.username=d.val().username,l.admin=d.val().admin);const c=await e.dispatch("login",l);c?Ao.push("/admin-dashboard"):Ao.push("/"),e.dispatch("showNotification",{message:"Inscription réussie",type:"success"}),a.value="",t.value="",o.value=""}catch(l){console.error(l.code),console.error(l.message),e.dispatch("showNotification",{message:l.message,type:"error"})}else e.dispatch("showNotification",{message:"L'email n'est pas valide",type:"error"})};return{username:a,password:t,email:o,register:s}}};const Ge=(0,J.A)(He,[["render",qe]]);var Ze=Ge,Be=t(4912);const Ye=e=>((0,s.Qi)("data-v-2900739f"),e=e(),(0,s.jt)(),e),ea={class:"not-found-container"},aa=Ye((()=>(0,s.Lk)("img",{src:Be,alt:"Logo",class:"logo"},null,-1))),ta=Ye((()=>(0,s.Lk)("h1",null,"404 Not Found",-1))),oa=Ye((()=>(0,s.Lk)("p",null,"La page que vous recherchez n'existe pas.",-1))),sa=[aa,ta,oa];function na(e,a,t,o,n,l){return(0,s.uX)(),(0,s.CE)("div",ea,sa)}var la={name:"NotFound"};const ra=(0,J.A)(la,[["render",na],["__scopeId","data-v-2900739f"]]);var ia=ra;const da={class:"tiles"},ca=(0,s.Lk)("h2",null,"User Management",-1),ua=(0,s.Lk)("h2",null,"Product Management",-1);function ma(e,a,t,o,n,l){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",da,[(0,s.bF)(r,{to:"/user-management",class:"tile"},{default:(0,s.k6)((()=>[ca])),_:1}),(0,s.bF)(r,{to:"/product-management",class:"tile"},{default:(0,s.k6)((()=>[ua])),_:1})])])}var pa={};const va=(0,J.A)(pa,[["render",ma]]);var ba=va;async function ka(e){const a=(0,ue.C3)(),t=(0,ue.KR)(a,`users/${e}`),o=await(0,ue.Jt)(t),s=o.val();if(s)return!0===s.admin;throw new Error("User does not exist")}var ga=(0,C.y$)({state:{isLoading:!0,isLoggedIn:!1,user:null,admin:!1,users:{},notification:{message:"",type:"info"}},mutations:{setLoading(e,a){e.isLoading=a},setUser(e,a){e.user=a,e.isLoggedIn=!!a,e.admin=!!a&&a.admin,localStorage.setItem("authToken",a.authToken)},setNotification(e,a){e.notification=a}},actions:{async init({dispatch:e}){return new Promise(((a,t)=>{const o=(0,Ke.hg)((0,Ke.xI)(),(t=>{t&&e("checkAdminStatus"),o(),a()}),t)}))},async login({commit:e},a){const t=await ka(a.uid);return e("setUser",{...a,admin:t}),t},logout({commit:e}){const a=(0,Ke.xI)();(0,Ke.CI)(a).then((()=>{e("setUser",null),localStorage.removeItem("authToken"),localStorage.removeItem("user")})).catch((e=>{console.error(e)}))},showNotification({commit:e},a){e("setNotification",a),setTimeout((()=>{e("setNotification",{message:"",type:"info"})}),3e3)},async checkAdminStatus({commit:e}){const a=(0,Ke.xI)(),t=a.currentUser;if(t)try{const a=await ka(t.uid),o=(0,ue.C3)(),s=(0,ue.KR)(o,`users/${t.uid}`),n=await(0,ue.Jt)(s);return n.exists()&&(t.username=n.val().username),e("setUser",{...t,admin:a}),Promise.resolve()}catch(o){return Promise.reject(o)}else{const a=JSON.parse(localStorage.getItem("user"));a&&e("setUser",a)}}}});const La=e=>((0,s.Qi)("data-v-9659608a"),e=e(),(0,s.jt)(),e),ha={class:"mt-5"},fa={class:"col-6"},ya={class:"mb-3"},wa=La((()=>(0,s.Lk)("label",{class:"form-label"},"Gestion des utilisateurs",-1))),Ca=La((()=>(0,s.Lk)("hr",null,null,-1))),Aa=La((()=>(0,s.Lk)("div",null,null,-1))),Ea={class:"table-responsive"},Ua={class:"table table-striped"},Ma=La((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Nom d'utilisateur"),(0,s.Lk)("th",null,"Admin"),(0,s.Lk)("th",null,"Actions")])],-1))),Pa={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-check-circle-fill svg-icon",viewBox:"0 0 16 16"},xa=La((()=>(0,s.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323A.75.75 0 0 0 4.616 8.03l2.363 2.394a.75.75 0 0 0 1.06 0l4.886-4.976a.75.75 0 0 0-.025-1.065z"},null,-1))),Ka=[xa],ja={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle-fill svg-icon",viewBox:"0 0 16 16"},Ra=La((()=>(0,s.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.293-2.707a1 1 0 0 0-1.414-1.414L8 6.586 5.707 4.293a1 1 0 0 0-1.414 1.414L6.586 8l-2.293 2.293a1 1 0 0 0 1.414 1.414L8 9.414l2.293 2.293a1 1 0 0 0 1.414-1.414L9.414 8l2.293-2.293z"},null,-1))),Ia=[Ra],$a=["onClick"],Xa=["onClick"],Fa=["onClick"],Na={class:"modal-dialog"},Ta={class:"modal-content"},Ja={class:"modal-header"},_a=La((()=>(0,s.Lk)("h5",{class:"modal-title"},"Modifier l'utilisateur",-1))),Oa={class:"modal-body"},Sa={class:"mb-3"},Va=La((()=>(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1))),Da={class:"mb-3"},Qa=La((()=>(0,s.Lk)("label",{class:"form-label"},"Mot de passe",-1))),Wa={class:"mb-3"},za=La((()=>(0,s.Lk)("label",{class:"form-label"},"Admin",-1))),qa=La((()=>(0,s.Lk)("option",{value:!0},"True",-1))),Ha=La((()=>(0,s.Lk)("option",{value:!1},"False",-1))),Ga=[qa,Ha],Za={class:"modal-footer"},Ba={class:"modal-dialog"},Ya={class:"modal-content"},et={class:"modal-header"},at=La((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un utilisateur",-1))),tt={class:"modal-body"},ot={class:"mb-3"},st=La((()=>(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1))),nt={class:"mb-3"},lt=La((()=>(0,s.Lk)("label",{class:"form-label"},"Mot de passe",-1))),rt={class:"mb-3"},it=La((()=>(0,s.Lk)("label",{class:"form-label"},"Admin",-1))),dt=La((()=>(0,s.Lk)("option",{value:!0},"True",-1))),ct=La((()=>(0,s.Lk)("option",{value:!1},"False",-1))),ut=[dt,ct],mt={key:0,class:"alert alert-danger"},pt={class:"modal-footer"};function vt(e,a,t,n,r,i){return(0,s.uX)(),(0,s.CE)("div",ha,[(0,s.Lk)("div",fa,[(0,s.Lk)("div",ya,[wa,Ca,(0,s.Lk)("button",{class:"btn btn-success mb-3",onClick:a[0]||(a[0]=(...e)=>n.openAddUserModal&&n.openAddUserModal(...e))},"Ajouter un utilisateur"),Aa])]),(0,s.Lk)("div",Ea,[(0,s.Lk)("table",Ua,[Ma,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.users,((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:a},[(0,s.Lk)("td",null,(0,l.v_)(a),1),(0,s.Lk)("td",null,[e.admin?((0,s.uX)(),(0,s.CE)("svg",Pa,Ka)):((0,s.uX)(),(0,s.CE)("svg",ja,Ia))]),(0,s.Lk)("td",null,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:t=>n.openEditModal(e,a)},"Modifier",8,$a),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:e=>n.deleteUser(a)},"Supprimer",8,Xa),(0,s.Lk)("button",{class:"btn btn-secondary me-2",onClick:e=>n.toggleAdmin(a)},"Changer le statut d'admin",8,Fa)])])))),128))])])]),n.isEditUserModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["modal",{"show d-block":n.isEditUserModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Na,[(0,s.Lk)("div",Ta,[(0,s.Lk)("div",Ja,[_a,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[1]||(a[1]=(...e)=>n.closeEditUserModal&&n.closeEditUserModal(...e))})]),(0,s.Lk)("div",Oa,[(0,s.Lk)("div",Sa,[Va,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>n.editedUser.username=e),class:"form-control"},null,512),[[o.Jo,n.editedUser.username]])]),(0,s.Lk)("div",Da,[Qa,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[3]||(a[3]=e=>n.editedUser.password=e),class:"form-control"},null,512),[[o.Jo,n.editedUser.password]])]),(0,s.Lk)("div",Wa,[za,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>n.editedUser.admin=e),class:"form-control"},Ga,512),[[o.u1,n.editedUser.admin]])])]),(0,s.Lk)("div",Za,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[5]||(a[5]=(...e)=>n.closeEditUserModal&&n.closeEditUserModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[6]||(a[6]=(...e)=>n.editUser&&n.editUser(...e))},"Enregistrer les modifications")])])])],2)):(0,s.Q3)("",!0),n.isAddUserModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,l.C4)(["modal",{"show d-block":n.isAddUserModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Ba,[(0,s.Lk)("div",Ya,[(0,s.Lk)("div",et,[at,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[7]||(a[7]=(...e)=>n.closeAddUserModal&&n.closeAddUserModal(...e))})]),(0,s.Lk)("div",tt,[(0,s.Lk)("div",ot,[st,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=e=>n.newUser.username=e),class:"form-control"},null,512),[[o.Jo,n.newUser.username]])]),(0,s.Lk)("div",nt,[lt,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[9]||(a[9]=e=>n.newUser.password=e),class:"form-control"},null,512),[[o.Jo,n.newUser.password]])]),(0,s.Lk)("div",rt,[it,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>n.newUser.admin=e),class:"form-control"},ut,512),[[o.u1,n.newUser.admin]])]),n.newUser.errorMessage?((0,s.uX)(),(0,s.CE)("div",mt,(0,l.v_)(n.newUser.errorMessage),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",pt,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[11]||(a[11]=(...e)=>n.closeAddUserModal&&n.closeAddUserModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[12]||(a[12]=(...e)=>n.addUser&&n.addUser(...e))},"Ajouter l'utilisateur")])])])],2)):(0,s.Q3)("",!0)])}var bt=t(3169),kt={setup(){const e=(0,ce.KR)([]),a=(0,ue.C3)(),t=(0,A.rd)(),o=(0,C.Pj)(),n=(0,ce.KR)(!1),l=(0,ce.KR)({}),r=(0,ce.KR)(!1),i=(0,ce.KR)({}),d=(0,ce.KR)("");(0,s.sV)((async()=>{if(o.state.admin){const t=(0,ue.KR)(a,"users");(0,ue.Zy)(t,(a=>{const t=a.val();t&&"object"===typeof t?e.value=t:console.error("usersData is not an object:",t)}))}else await t.push("/")}));const c=e=>{if(e&&"string"===typeof e){const t=(0,ue.KR)(a,`users/${e}`);(0,ue.Jt)(t).then((a=>{if(a.exists()){const o=a.val();(0,ue.yo)(t,{admin:!o.admin}).catch((a=>{console.error(`Failed to toggle admin status for user: ${e}`,a)}))}else console.error("User does not exist:",e)}))}else console.error("Invalid username:",e)},u=(e,a)=>{d.value=a,l.value={...e,username:a},n.value=!0},m=()=>{n.value=!1},p=async()=>{let e=l.value.password;const t=(0,ue.KR)(a,`users/${d.value}`),o=await(0,ue.Jt)(t),s=o.val();s.password!==l.value.password&&(e=(0,bt.SHA256)(l.value.password).toString());const n=(0,ue.KR)(a,`users/${l.value.username}`);await(0,ue.TF)(t).catch((e=>{console.error(`Échec de la suppression de l'utilisateur : ${d.value}`,e)})),await(0,ue.yo)(n,{password:e,admin:l.value.admin}).catch((e=>{console.error(`Échec de la modification de l'utilisateur : ${l.value.username}`,e)})),m()},v=async e=>{const t=(0,ue.KR)(a,"users"),o=await(0,ue.Jt)(t),s=o.val(),n=Object.keys(s).length;if(n<=1)return void console.error("Cannot delete user. At least one user must remain.");const l=(0,ue.KR)(a,`users/${e}`);await(0,ue.TF)(l).catch((a=>{console.error(`Failed to delete user: ${e}`,a)}))},b=()=>{i.value={username:"",password:"",admin:!1},r.value=!0},k=()=>{r.value=!1},g=async()=>{const e=(0,bt.SHA256)(i.value.password).toString(),t=(0,ue.KR)(a,`users/${i.value.username}`),o=await(0,ue.Jt)(t);if(o.exists())i.value.errorMessage="Utilisateur déjà existant";else{const o=(0,ue.KR)(a,`users/${i.value.username}s`),s=await(0,ue.Jt)(o);s.exists()?i.value.errorMessage="Un utilisateur avec un nom similaire existe déjà":(await(0,ue.yo)(t,{password:e,admin:i.value.admin}).catch((e=>{console.error(`Échec de l'ajout de l'utilisateur : ${i.value.username}`,e)})),k())}};return{users:e,toggleAdmin:c,isEditUserModalOpen:n,editedUser:l,openEditModal:u,closeEditUserModal:m,editUser:p,deleteUser:v,isAddUserModalOpen:r,newUser:i,openAddUserModal:b,closeAddUserModal:k,addUser:g}}};const gt=(0,J.A)(kt,[["render",vt],["__scopeId","data-v-9659608a"]]);var Lt=gt;const ht=e=>((0,s.Qi)("data-v-deb46594"),e=e(),(0,s.jt)(),e),ft={class:"mt-5"},yt={class:"col-6"},wt={class:"mb-3"},Ct=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Gestion des Produits",-1))),At=["onClick"],Et={class:"mb-3"},Ut={class:"table-responsive"},Mt={class:"table table-striped"},Pt=ht((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Image"),(0,s.Lk)("th",null,"Nom du produit"),(0,s.Lk)("th",null,"Prix"),(0,s.Lk)("th",null,"Actions")])],-1))),xt=["src"],Kt=["onClick"],jt=["onClick"],Rt={class:"modal-dialog"},It={class:"modal-content"},$t={class:"modal-header"},Xt=ht((()=>(0,s.Lk)("h5",{class:"modal-title"},"Modifier le produit",-1))),Ft={class:"modal-body"},Nt={class:"mb-3"},Tt=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Nom du produit",-1))),Jt={class:"mb-3"},_t=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Prix du produit",-1))),Ot={class:"mb-3"},St=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Lien de la photo du produit",-1))),Vt={class:"modal-footer"},Dt={class:"modal-dialog"},Qt={class:"modal-content"},Wt={class:"modal-header"},zt=ht((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un produit",-1))),qt={class:"modal-body"},Ht={class:"mb-3"},Gt=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Nom du produit",-1))),Zt={class:"mb-3"},Bt=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Prix du produit",-1))),Yt={class:"mb-3"},eo=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Lien de la photo du produit",-1))),ao={class:"mb-3"},to=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Catégorie du produit",-1))),oo=["value"],so=ht((()=>(0,s.Lk)("option",{value:"new"},"Ajouter une nouvelle catégorie",-1))),no={key:0,class:"mb-3"},lo=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Nom de la nouvelle catégorie",-1))),ro={class:"modal-footer"},io={class:"modal-dialog"},co={class:"modal-content"},uo={class:"modal-header"},mo=ht((()=>(0,s.Lk)("h5",{class:"modal-title"},"Supprimer une catégorie",-1))),po={class:"modal-body"},vo={class:"mb-3"},bo=ht((()=>(0,s.Lk)("label",{class:"form-label"},"Catégorie à supprimer",-1))),ko=["value"],go={class:"modal-footer"};function Lo(e,a,t,n,r,i){return(0,s.uX)(),(0,s.CE)("div",ft,[(0,s.Lk)("div",yt,[(0,s.Lk)("div",wt,[Ct,(0,s.Lk)("div",null,[(0,s.Lk)("button",{class:"btn btn-outline-primary me-2",onClick:a[0]||(a[0]=e=>n.selectedCategory="")},"Tous les produits"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:"btn btn-outline-secondary me-2",onClick:a=>n.selectedCategory=e},(0,l.v_)(e),9,At)))),128))])]),(0,s.Lk)("div",Et,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:a[1]||(a[1]=(...e)=>n.openAddProductModal&&n.openAddProductModal(...e))},"Ajouter un produit"),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:a[2]||(a[2]=(...e)=>n.openDeleteCategoryModal&&n.openDeleteCategoryModal(...e))},"Supprimer une catégorie")])]),(0,s.Lk)("div",Ut,[(0,s.Lk)("table",Mt,[Pt,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.filteredProducts,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.name},[(0,s.Lk)("td",null,[(0,s.Lk)("img",{src:e.image,alt:"Product image",class:"product-image"},null,8,xt)]),(0,s.Lk)("td",null,(0,l.v_)(e.name),1),(0,s.Lk)("td",null,(0,l.v_)(e.price),1),(0,s.Lk)("td",null,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:a=>n.openEditModal(e)},"Modifier",8,Kt),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:a=>n.deleteProduct(e,e.category)},"Supprimer",8,jt)])])))),128))])])]),n.isEditModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["modal",{"show d-block":n.isEditModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Rt,[(0,s.Lk)("div",It,[(0,s.Lk)("div",$t,[Xt,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[3]||(a[3]=(...e)=>n.closeEditModal&&n.closeEditModal(...e))})]),(0,s.Lk)("div",Ft,[(0,s.Lk)("div",Nt,[Tt,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>n.editedProduct.name=e),class:"form-control"},null,512),[[o.Jo,n.editedProduct.name]])]),(0,s.Lk)("div",Jt,[_t,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>n.editedProduct.price=e),class:"form-control"},null,512),[[o.Jo,n.editedProduct.price]])]),(0,s.Lk)("div",Ot,[St,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>n.editedProduct.image=e),class:"form-control"},null,512),[[o.Jo,n.editedProduct.image]])])]),(0,s.Lk)("div",Vt,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[7]||(a[7]=(...e)=>n.closeEditModal&&n.closeEditModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[8]||(a[8]=(...e)=>n.editProduct&&n.editProduct(...e))},"Enregistrer les modifications")])])])],2)):(0,s.Q3)("",!0),n.isAddProductModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,l.C4)(["modal",{"show d-block":n.isAddProductModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Dt,[(0,s.Lk)("div",Qt,[(0,s.Lk)("div",Wt,[zt,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[9]||(a[9]=(...e)=>n.closeAddProductModal&&n.closeAddProductModal(...e))})]),(0,s.Lk)("div",qt,[(0,s.Lk)("div",Ht,[Gt,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>n.newProduct.name=e),class:"form-control"},null,512),[[o.Jo,n.newProduct.name]])]),(0,s.Lk)("div",Zt,[Bt,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=e=>n.newProduct.price=e),class:"form-control"},null,512),[[o.Jo,n.newProduct.price]])]),(0,s.Lk)("div",Yt,[eo,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=e=>n.newProduct.image=e),class:"form-control"},null,512),[[o.Jo,n.newProduct.image]])]),(0,s.Lk)("div",ao,[to,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>n.newProduct.category=e),class:"form-control",onChange:a[14]||(a[14]=(...e)=>n.handleCategoryChange&&n.handleCategoryChange(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,l.v_)(e),9,oo)))),128)),so],544),[[o.u1,n.newProduct.category]])]),n.isNewCategory?((0,s.uX)(),(0,s.CE)("div",no,[lo,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[15]||(a[15]=e=>n.newCategory=e),class:"form-control"},null,512),[[o.Jo,n.newCategory]])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ro,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[16]||(a[16]=(...e)=>n.closeAddProductModal&&n.closeAddProductModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[17]||(a[17]=(...e)=>n.addProduct&&n.addProduct(...e))},"Ajouter le produit")])])])],2)):(0,s.Q3)("",!0),n.isDeleteCategoryModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,l.C4)(["modal",{"show d-block":n.isDeleteCategoryModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",io,[(0,s.Lk)("div",co,[(0,s.Lk)("div",uo,[mo,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[18]||(a[18]=(...e)=>n.closeDeleteCategoryModal&&n.closeDeleteCategoryModal(...e))})]),(0,s.Lk)("div",po,[(0,s.Lk)("div",vo,[bo,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[19]||(a[19]=e=>n.categoryToDelete=e),class:"form-control"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,l.v_)(e),9,ko)))),128))],512),[[o.u1,n.categoryToDelete]])])]),(0,s.Lk)("div",go,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[20]||(a[20]=(...e)=>n.closeDeleteCategoryModal&&n.closeDeleteCategoryModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-danger",onClick:a[21]||(a[21]=(...e)=>n.deleteCategory&&n.deleteCategory(...e))},"Supprimer la catégorie")])])])],2)):(0,s.Q3)("",!0)])}var ho={setup(){const e=(0,ce.KR)({}),a=(0,ce.KR)(""),t=(0,ue.C3)(),o=(0,A.rd)(),n=(0,C.Pj)(),l=(0,ce.KR)(""),r=(0,C.Pj)(),i=(0,ce.KR)(!1),d=(0,ce.KR)({}),c=(0,ce.KR)(!1),u=(0,ce.KR)({}),m=(0,ce.KR)(!1),p=(0,ce.KR)(""),v=(0,ce.KR)(!1),b=(0,ce.KR)(!1),k=(0,ce.KR)(""),g=()=>{k.value="",b.value=!0},L=()=>{b.value=!1},h=async()=>{const e=(0,ue.KR)(t,`products/${k.value}`),a=await(0,ue.Jt)(e),o=a.val();for(const s in o){const e=(0,ue.KR)(t,`products/${k.value}/${s}`);await(0,ue.TF)(e).catch((e=>{console.error(`Échec de la suppression du produit : ${s} dans la catégorie : ${k.value}`,e)}))}await(0,ue.TF)(e).catch((e=>{console.error(`Échec de la suppression de la catégorie : ${k.value}`,e)})),L()},f=()=>{"new"===u.value.category?(v.value=!0,u.value.category=""):v.value=!1},y=()=>{u.value={},c.value=!0},w=()=>{c.value=!1},E=async()=>{v.value&&(u.value.category=p.value);const e=(0,ue.KR)(t,`products/${u.value.category}/${u.value.name}`);await(0,ue.hZ)(e,{name:u.value.name,price:u.value.price,image:u.value.image}).catch((e=>{console.error(`Échec de l'ajout du produit : ${u.value.name} dans la catégorie : ${u.value.category}`,e)})),w()},U=()=>{p.value="",m.value=!0},M=()=>{m.value=!1},P=async()=>{const e=(0,ue.KR)(t,`products/${p.value}`),a={name:p.value,products:{}};await(0,ue.hZ)(e,a).catch((e=>{console.error(`Échec de l'ajout de la catégorie : ${p.value}`,e)})),M()};(0,s.sV)((async()=>{if(n.state.admin){const a=(0,ue.KR)(t,"products");(0,ue.Zy)(a,(a=>{e.value=a.val()}))}else o.push("/")}));const x=e=>{d.value={...e},i.value=!0},K=()=>{i.value=!1},j=async()=>{const e=(0,ue.KR)(t,`products/${d.value.category}/${d.value.name}`);await(0,ue.yo)(e,{name:d.value.name,price:d.value.price,image:d.value.image}).catch((e=>{console.error(`Échec de la modification du produit : ${d.value.name} dans la catégorie : ${d.value.category}`,e)})),K()},R=async(e,a)=>{if(a&&e.name){const o=(0,ue.KR)(t,`products/${a}`),s=await(0,ue.Jt)(o),n=s.val();if(1===Object.keys(n).length)return void r.dispatch("showNotification",{message:`Échec de la suppression du produit : ${e.name} est le dernier produit de la catégorie : ${a}. Vous ne pouvez pas supprimer le dernier produit d'une catégorie.`,type:"error"});const l=(0,ue.KR)(t,`products/${a}/${e.name}`);await(0,ue.TF)(l).catch((t=>{console.error(`Échec de la suppression du produit : ${e.name} dans la catégorie : ${a}`,t)}))}else console.error(`Échec de la suppression du produit : La catégorie ou le nom du produit n'est pas défini. Catégorie : ${a}, Nom du produit : ${e.name}`)},I=(0,s.EW)((()=>Object.keys(e.value))),$=(0,s.EW)((()=>{let t=[];if(e.value){for(const a in e.value){const o=Object.values(e.value[a]);for(const e of o)e.category=a,t.push(e)}a.value&&(t=t.filter((e=>e.category===a.value))),l.value&&(t=t.filter((e=>e.name.includes(l.value))))}return t}));return{products:e,editProduct:j,deleteProduct:R,categories:I,selectedCategory:a,filteredProducts:$,searchTerm:l,isEditModalOpen:i,editedProduct:d,openEditModal:x,closeEditModal:K,isAddProductModalOpen:c,newProduct:u,openAddProductModal:y,closeAddProductModal:w,addProduct:E,isAddCategoryModalOpen:m,newCategory:p,openAddCategoryModal:U,closeAddCategoryModal:M,addCategory:P,isNewCategory:v,handleCategoryChange:f,isDeleteCategoryModalOpen:b,categoryToDelete:k,openDeleteCategoryModal:g,closeDeleteCategoryModal:L,deleteCategory:h}}};const fo=(0,J.A)(ho,[["render",Lo],["__scopeId","data-v-deb46594"]]);var yo=fo;const wo=[{path:"/admin-dashboard",name:"AdminDashboard",component:ba,meta:{requiresAdmin:!0}},{path:"/",name:"Home",component:ge},{path:"/login",name:"Login",component:Ie},{path:"/register",name:"Register",component:Ze},{path:"/admin-dashboard",name:"AdminDashboard",component:ba},{path:"/:pathMatch(.*)*",name:"NotFound",component:ia},{path:"/admin-dashboard",name:"AdminDashboard",component:ba,meta:{requiresAdmin:!0}},{path:"/user-management",name:"UserManagement",component:Lt,meta:{requiresAdmin:!0}},{path:"/product-management",name:"ProductManagement",component:yo,meta:{requiresAdmin:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:ia}],Co=(0,A.aE)({history:(0,A.LA)("/vuejs-projet-web/"),routes:wo});Co.beforeEach(((e,a,t)=>{e.matched.some((e=>e.meta.requiresAdmin))?ga.state.admin?t():t({name:"Home"}):("Login"===e.name||"Register"===e.name)&&ga.state.isLoggedIn?t({name:"Home"}):t()}));var Ao=Co,Eo={data(){return{logoUrl:t(4912)}},setup(){const e=(0,C.Pj)(),a=(0,s.EW)((()=>e.state.isLoggedIn)),t=(0,s.EW)((()=>e.state.user?e.state.user.username:"")),o=(0,s.EW)((()=>e.state.admin)),n=()=>{e.dispatch("logout"),e.commit("logout"),Ao.push("/"),e.dispatch("showNotification",{message:"Logged out successfully",type:"success"})};return{username:t,isLoggedIn:a,logout:n,isAdmin:o}}};const Uo=(0,J.A)(Eo,[["render",w],["__scopeId","data-v-64796ac8"]]);var Mo=Uo;function Po(e,a,t,o,n,r){return t.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(`notification ${t.type}`)},(0,l.v_)(t.message),3)):(0,s.Q3)("",!0)}var xo={props:{message:{type:String,default:""},type:{type:String,default:"info"}}};const Ko=(0,J.A)(xo,[["render",Po],["__scopeId","data-v-09a62026"]]);var jo=Ko,Ro={components:{AppNavbar:Mo,NotificationApp:jo},setup(){const e=(0,C.Pj)(),a=(0,s.EW)((()=>e.state.notification));return{notification:a}},data(){return{pageTitre:"Accueil"}},mounted(){document.title=this.pageTitre}};const Io=(0,J.A)(Ro,[["render",n]]);var $o=Io,Xo=t(6400);const Fo={apiKey:"AIzaSyAJRp8WxcFUDzBzsRnqG-TZTUQG3jWGjnQ",authDomain:"vuejs-ae8a0.firebaseapp.com",databaseURL:"https://vuejs-ae8a0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"vuejs-ae8a0",storageBucket:"vuejs-ae8a0.appspot.com",messagingSenderId:"104652181195",appId:"1:104652181195:web:9bba7498e6fb88baa7d54e",measurementId:"G-2CJPHT3X6K"};(0,Xo.Wp)(Fo),ga.dispatch("init").then((()=>{const e=(0,o.Ef)($o);e.use(ga),e.use(Ao),e.mount("#app")})).catch((e=>{console.error("Failed to init store: ",e)}))},4912:function(e,a,t){"use strict";e.exports=t.p+"img/LogoToboo.f339544e.png"},477:function(){}},a={};function t(o){var s=a[o];if(void 0!==s)return s.exports;var n=a[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){var e=[];t.O=function(a,o,s,n){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],n=e[c][2];for(var r=!0,i=0;i<o.length;i++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var d=s();void 0!==d&&(a=d)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/vuejs-projet-web/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,o){var s,n,l=o[0],r=o[1],i=o[2],d=0;if(l.some((function(a){return 0!==e[a]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(i)var c=i(t)}for(a&&a(o);d<l.length;d++)n=l[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},o=self["webpackChunkprojet_web"]=self["webpackChunkprojet_web"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(9425)}));o=t.O(o)})();
//# sourceMappingURL=app.17a40556.js.map
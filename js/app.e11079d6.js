(function(){"use strict";var e={3435:function(e,t,a){var o=a(5130),s=a(6768);const l={class:"app"};function n(e,t,a,o,n,r){const i=(0,s.g2)("AppNavbar"),c=(0,s.g2)("NotificationApp"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.bF)(i),(0,s.bF)(c,{message:o.notification.message,type:o.notification.type},null,8,["message","type"]),(0,s.bF)(d)])}var r=a(4232);const i=e=>((0,s.Qi)("data-v-2019455b"),e=e(),(0,s.jt)(),e),c={class:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top"},d={class:"container"},u=["src"],m=i((()=>(0,s.Lk)("a",{class:"navbar-brand"},"Toobo",-1))),p=i((()=>(0,s.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s.Lk)("span",{class:"navbar-toggler-icon"})],-1))),g={class:"collapse navbar-collapse",id:"navbarSupportedContent"},h={class:"navbar-nav ms-auto mb-2 mb-lg-0"},k={class:"nav-item"},A={key:0,class:"nav-item"},v={key:1,class:"nav-item"},b={key:2,class:"nav-item"},y={class:"nav-link"},L={key:3,class:"nav-item"},w={key:4,class:"nav-item"};function C(e,t,a,o,l,n){const i=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",c,[(0,s.Lk)("div",d,[(0,s.bF)(i,{to:"/"},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:l.logoUrl,alt:"Logo",class:"navbar-logo"},null,8,u),m])),_:1}),p,(0,s.Lk)("div",g,[(0,s.Lk)("ul",h,[(0,s.Lk)("li",k,[(0,s.bF)(i,{class:"nav-link active",to:"/"},{default:(0,s.k6)((()=>[(0,s.eW)("Home")])),_:1})]),o.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",A,[(0,s.bF)(i,{class:"nav-link",to:"/login"},{default:(0,s.k6)((()=>[(0,s.eW)("Login")])),_:1})])),o.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",v,[(0,s.bF)(i,{class:"nav-link",to:"/register"},{default:(0,s.k6)((()=>[(0,s.eW)("Register")])),_:1})])),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("li",b,[(0,s.Lk)("span",y,(0,r.v_)(o.username),1)])):(0,s.Q3)("",!0),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("li",L,[(0,s.Lk)("button",{class:"btn btn-link nav-link",onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e))},"Logout")])):(0,s.Q3)("",!0),o.isAdmin?((0,s.uX)(),(0,s.CE)("li",w,[(0,s.bF)(i,{class:"nav-link",to:"/admin-dashboard"},{default:(0,s.k6)((()=>[(0,s.eW)("Dashboard")])),_:1})])):(0,s.Q3)("",!0)])])])])}a(4114);var f=a(782),E=a(1387);const M=e=>((0,s.Qi)("data-v-6d1624e0"),e=e(),(0,s.jt)(),e),P={style:{overflow:"hidden"}},I={key:0,class:"login-message"},U=M((()=>(0,s.Lk)("h2",null,"Bienvenue sur Toobo !",-1))),R=M((()=>(0,s.Lk)("p",null,"Pour accéder à la collection, veuillez vous connecter ou créer un compte.",-1)));function D(e,t,a,o,l,n){const r=(0,s.g2)("router-link"),i=(0,s.g2)("AppMaps"),c=(0,s.g2)("AppShop");return(0,s.uX)(),(0,s.CE)("div",P,[o.isLoggedIn?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.bF)(i),(0,s.bF)(c)],64)):((0,s.uX)(),(0,s.CE)("div",I,[U,R,(0,s.bF)(r,{to:"/login",class:"btn btn-primary"},{default:(0,s.k6)((()=>[(0,s.eW)("Se connecter")])),_:1}),(0,s.bF)(r,{to:"/register",class:"btn btn-secondary"},{default:(0,s.k6)((()=>[(0,s.eW)("Créer un compte")])),_:1})]))])}const B=e=>((0,s.Qi)("data-v-458182ca"),e=e(),(0,s.jt)(),e),F={class:"map-container"},x={ref:"geocoderContainer",class:"geocoder-container flex-center"},Q={ref:"map",class:"map"},K={ref:"geolocateContainer",class:"geolocate-container"},V=B((()=>(0,s.Lk)("div",{class:"geolocate-control custom-geolocate-button"},null,-1))),X=[V],G={key:0},O={key:1},j=B((()=>(0,s.Lk)("br",null,null,-1))),N={class:"container"},T={class:"weather-side"},z=B((()=>(0,s.Lk)("div",{class:"weather-gradient"},null,-1))),W={class:"date-container"},S={class:"date-dayname"},H={class:"date-day"},q=B((()=>(0,s.Lk)("i",{class:"location-icon","data-feather":"map-pin"},null,-1))),Z={class:"location"},Y={class:"weather-container"},J=B((()=>(0,s.Lk)("i",{class:"weather-icon","data-feather":"sun"},null,-1))),_=["src"],$={class:"weather-temp"},ee={class:"weather-desc"},te={class:"info-side"},ae={class:"today-info-container"},oe={class:"today-info"},se={class:"precipitation"},le=B((()=>(0,s.Lk)("span",{class:"title"},"Précipitation",-1))),ne={class:"value"},re=B((()=>(0,s.Lk)("div",{class:"clear"},null,-1))),ie={class:"humidity"},ce=B((()=>(0,s.Lk)("span",{class:"title"},"Humidité",-1))),de={class:"value"},ue=B((()=>(0,s.Lk)("div",{class:"clear"},null,-1))),me={class:"wind"},pe=B((()=>(0,s.Lk)("span",{class:"title"},"Vent",-1))),ge={class:"value"},he=B((()=>(0,s.Lk)("div",{class:"clear"},null,-1))),ke={class:"week-container"},Ae={class:"week-list"},ve={class:"active"},be={class:"day-name"},ye={class:"day-temp"},Le=["src"],we={class:"day-temp"},Ce={class:"day-name"},fe={class:"day-temp"},Ee=["src"],Me={class:"day-temp"},Pe={class:"day-name"},Ie={class:"day-temp"},Ue=["src"],Re={class:"day-temp"},De={class:"day-name"},Be={class:"day-temp"},Fe=["src"],xe={class:"day-temp"},Qe={class:"day-name"},Ke={class:"day-temp"},Ve=["src"],Xe={class:"day-temp"},Ge=B((()=>(0,s.Lk)("div",{class:"clear"},null,-1)));function Oe(e,t,a,o,l,n){return(0,s.uX)(),(0,s.CE)("div",F,[(0,s.Lk)("div",x,null,512),(0,s.Lk)("div",Q,null,512),(0,s.Lk)("div",K,X,512),l.loading?((0,s.uX)(),(0,s.CE)("div",G,"Loading...")):l.weatherData?((0,s.uX)(),(0,s.CE)("div",O,[j,(0,s.Lk)("div",N,[(0,s.Lk)("div",T,[z,(0,s.Lk)("div",W,[(0,s.Lk)("h2",S,(0,r.v_)(e.searchText),1),(0,s.Lk)("span",H,(0,r.v_)(e.dayName.charAt(0).toUpperCase()+e.dayName.slice(1)),1),q,(0,s.Lk)("span",Z,(0,r.v_)(e.currentDate),1)]),(0,s.Lk)("div",Y,[J,(0,s.Lk)("img",{style:{width:"128px"},src:"https://openweathermap.org/img/wn/"+e.icon+"@2x.png",alt:"Icon"},null,8,_),(0,s.Lk)("h1",$,(0,r.v_)(Math.round(l.weatherData.current.temp))+"°C",1),(0,s.Lk)("h3",ee,(0,r.v_)(l.weatherData.current.weather[0].description),1)])]),(0,s.Lk)("div",te,[(0,s.Lk)("div",ae,[(0,s.Lk)("div",oe,[(0,s.Lk)("div",se,[le,(0,s.Lk)("span",ne,(0,r.v_)(l.weatherData.current.clouds)+" %",1),re]),(0,s.Lk)("div",ie,[ce,(0,s.Lk)("span",de,(0,r.v_)(l.weatherData.current.humidity)+" %",1),ue]),(0,s.Lk)("div",me,[pe,(0,s.Lk)("span",ge,(0,r.v_)(Math.round(l.weatherData.current.wind_speed))+" km/h",1),he])])]),(0,s.Lk)("div",ke,[(0,s.Lk)("ul",Ae,[(0,s.Lk)("li",ve,[(0,s.Lk)("span",be,(0,r.v_)(l.nextDays[0]),1),(0,s.Lk)("span",ye,(0,r.v_)(Math.round(l.weatherData.daily[1].temp.day))+"°C",1),(0,s.Lk)("img",{style:{width:"64px"},src:"https://openweathermap.org/img/wn/"+e.icon2+"@2x.png",alt:"Icon"},null,8,Le),(0,s.Lk)("span",we,(0,r.v_)(Math.round(l.weatherData.daily[1].temp.min))+" / "+(0,r.v_)(Math.round(l.weatherData.daily[1].temp.max))+"°C",1)]),(0,s.Lk)("li",null,[(0,s.Lk)("span",Ce,(0,r.v_)(l.nextDays[1]),1),(0,s.Lk)("span",fe,(0,r.v_)(Math.round(l.weatherData.daily[2].temp.day))+"°C",1),(0,s.Lk)("img",{style:{width:"64px"},src:"https://openweathermap.org/img/wn/"+e.icon3+"@2x.png",alt:"Icon"},null,8,Ee),(0,s.Lk)("span",Me,(0,r.v_)(Math.round(l.weatherData.daily[2].temp.min))+" / "+(0,r.v_)(Math.round(l.weatherData.daily[2].temp.max))+"°C",1)]),(0,s.Lk)("li",null,[(0,s.Lk)("span",Pe,(0,r.v_)(l.nextDays[2]),1),(0,s.Lk)("span",Ie,(0,r.v_)(Math.round(l.weatherData.daily[3].temp.day))+"°C",1),(0,s.Lk)("img",{style:{width:"64px"},src:"https://openweathermap.org/img/wn/"+e.icon4+"@2x.png",alt:"Icon"},null,8,Ue),(0,s.Lk)("span",Re,(0,r.v_)(Math.round(l.weatherData.daily[3].temp.min))+" / "+(0,r.v_)(Math.round(l.weatherData.daily[3].temp.max))+"°C",1)]),(0,s.Lk)("li",null,[(0,s.Lk)("span",De,(0,r.v_)(l.nextDays[3]),1),(0,s.Lk)("span",Be,(0,r.v_)(Math.round(l.weatherData.daily[4].temp.day))+"°C",1),(0,s.Lk)("img",{style:{width:"64px"},src:"https://openweathermap.org/img/wn/"+e.icon5+"@2x.png",alt:"Icon"},null,8,Fe),(0,s.Lk)("span",xe,(0,r.v_)(Math.round(l.weatherData.daily[4].temp.min))+" / "+(0,r.v_)(Math.round(l.weatherData.daily[4].temp.max))+"°C",1)]),(0,s.Lk)("li",null,[(0,s.Lk)("span",Qe,(0,r.v_)(l.nextDays[4]),1),(0,s.Lk)("span",Ke,(0,r.v_)(Math.round(l.weatherData.daily[5].temp.day))+"°C",1),(0,s.Lk)("img",{style:{width:"64px"},src:"https://openweathermap.org/img/wn/"+e.icon6+"@2x.png",alt:"Icon"},null,8,Ve),(0,s.Lk)("span",Xe,(0,r.v_)(Math.round(l.weatherData.daily[5].temp.min))+" / "+(0,r.v_)(Math.round(l.weatherData.daily[5].temp.max))+"°C",1)]),Ge])])])])])):(0,s.Q3)("",!0)])}var je=a(2693),Ne=a.n(je),Te=a(8832),ze=a.n(Te),We=a(8355),Se={data(){return{loading:!1,weatherData:this.updateWeatherData(48.866667,2.333333),mapboxAccessToken:"pk.eyJ1IjoidGlibzYxIiwiYSI6ImNsc2ttaWd5NDA0anEya3JuN2F4cWJheDIifQ.8Y7HydMrAImeaYD6xPm_vg",latitude:0,longitude:0,nextDays:[]}},mounted(){Ne().accessToken=this.mapboxAccessToken,this.map=new(Ne().Map)({container:this.$refs.map,style:"mapbox://styles/mapbox/streets-v11",center:[2.3522,48.8566],zoom:11,attributionControl:!1});const e=new(Ne().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0});e.on("geolocate",(e=>{const t=e.coords.latitude,a=e.coords.longitude;this.updateWeatherData(t,a)})),this.map.addControl(e);const t=new(ze())({accessToken:Ne().accessToken,mapboxgl:Ne(),placeholder:"Entrez une adresse"});this.map.addControl(t,"top-left"),t.on("result",(e=>{const t=e.result.geometry.coordinates,a=t[1],o=t[0];this.updateWeatherData(a,o)}))},methods:{getCityName(e,t){const a="740ecf1f34a8de40fb609316e481a77e",o=`https://api.openweathermap.org/geo/1.0/reverse?lat=${e}&lon=${t}&limit=1&lang=fr&appid=${a}`;We.A.get(o).then((e=>{if(e.data&&e.data.length>0){const t=e.data[0].name;this.searchText=t}})).catch((e=>{console.error("Error fetching city name:",e)}))},updateWeatherData(e,t){this.loading=!0,this.getCityName(e,t),this.getWeatherData(e,t)},getNextFiveDays(){const e={weekday:"short"},t=[];for(let a=1;a<=5;a++){const o=new Date;o.setDate(o.getDate()+a);const s=o.toLocaleDateString("fr-FR",e),l=s.substring(0,3);t.push(l)}return t},getWeatherData(e,t){const a=new Date,o=a.getDate(),s=a.getMonth(),l=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],n=l[s],r=`${o} ${n}`,i={weekday:"long"},c=a.toLocaleDateString("fr-FR",i);this.loading=!0;const d="740ecf1f34a8de40fb609316e481a77e",u=`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${t}&lang=fr&units=metric&exclude=minutely,hourly&appid=${d}`;We.A.get(u).then((e=>{this.loading=!1,this.weatherData=e.data,this.temperature=Math.round(this.weatherData.temp),this.currentDate=r,this.dayName=c,this.icon=this.weatherData.current.weather[0].icon,this.icon2=this.weatherData.daily[1].weather[0].icon,this.icon3=this.weatherData.daily[2].weather[0].icon,this.icon4=this.weatherData.daily[3].weather[0].icon,this.icon5=this.weatherData.daily[4].weather[0].icon,this.icon6=this.weatherData.daily[5].weather[0].icon,this.nextDays=this.getNextFiveDays()})).catch((e=>{console.error("Error fetching weather data:",e),this.loading=!1}))}}},He=a(1241);const qe=(0,He.A)(Se,[["render",Oe],["__scopeId","data-v-458182ca"]]);var Ze=qe;const Ye=e=>((0,s.Qi)("data-v-40c36f07"),e=e(),(0,s.jt)(),e),Je=Ye((()=>(0,s.Lk)("br",null,null,-1))),_e={key:0,ref:"productsSection",class:"products-container"},$e=["src","alt"],et={class:"card-body"},tt={class:"card-title"},at={class:"card-text"},ot=["onClick"],st={key:1,ref:"productsSection",class:"products-container"},lt=["src","alt"],nt={class:"card-body"},rt={class:"card-title"},it={class:"card-text"},ct={class:"button-container"},dt={key:2,class:"button-container"},ut={class:"category-buttons"},mt={key:1,ref:"categoryButtons"},pt=["onClick"],gt={class:"modal-dialog"},ht={class:"modal-content"},kt={class:"modal-header"},At=Ye((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un produit",-1)));function vt(e,t,a,o,l,n){return(0,s.uX)(),(0,s.CE)(s.FK,null,[Je,(0,s.Lk)("div",null,["myCollection"===l.currentCollection?((0,s.uX)(),(0,s.CE)("div",_e,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.userProducts,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.name,class:"product-item card"},[(0,s.Lk)("img",{src:e.image,alt:e.name,class:"product-image card-img-top",onLoad:t[0]||(t[0]=(...e)=>o.scrollToProduct&&o.scrollToProduct(...e))},null,40,$e),(0,s.Lk)("div",et,[(0,s.Lk)("h5",tt,(0,r.v_)(e.name),1),(0,s.Lk)("p",at,(0,r.v_)(e.price)+"€",1),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"remove-from-collection-button btn btn-primary",onClick:t=>n.removeProductFromMyCollection(e)},"Supprimer de ma collection",8,ot)):(0,s.Q3)("",!0)])])))),128))],512)):((0,s.uX)(),(0,s.CE)("div",st,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.products,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.name,class:"product-item card"},[(0,s.Lk)("img",{src:e.image,alt:e.name,class:"product-image card-img-top",onLoad:t[1]||(t[1]=(...e)=>o.scrollToProduct&&o.scrollToProduct(...e))},null,40,lt),(0,s.Lk)("div",nt,[(0,s.Lk)("h5",rt,(0,r.v_)(e.name),1),(0,s.Lk)("p",it,(0,r.v_)(e.price)+"€",1)])])))),128))],512)),(0,s.Lk)("div",ct,[(0,s.Lk)("button",{class:"category-button",onClick:t[2]||(t[2]=(...e)=>o.goToAddProductPage&&o.goToAddProductPage(...e))}," Ajouter un produit ")]),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("div",dt,[(0,s.Lk)("div",ut,[(0,s.Lk)("button",{class:"category-button",onClick:t[3]||(t[3]=(...e)=>n.handleButtonClick&&n.handleButtonClick(...e))},"Ma Collection"),(0,s.Lk)("button",{class:"category-button",onClick:t[4]||(t[4]=(...e)=>n.handleSiteCollectionClick&&n.handleSiteCollectionClick(...e))}," Collection du Site ")]),o.showMyCollection?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"category-button",onClick:t[5]||(t[5]=e=>l.showAddProductModal=!0)}," Ajouter un produit ")):(0,s.Q3)("",!0),o.showCategories?((0,s.uX)(),(0,s.CE)("div",mt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.filteredCategories,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:"category-button",onClick:t=>{o.fetchProducts(e),o.selectedCategory=e}},(0,r.v_)(e),9,pt)))),128))],512)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),l.showAddProductModal?((0,s.uX)(),(0,s.CE)("div",{key:3,class:(0,r.C4)(["modal",{"show d-block":l.showAddProductModal}]),tabindex:"-1"},[(0,s.Lk)("div",gt,[(0,s.Lk)("div",ht,[(0,s.Lk)("div",kt,[At,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:t[6]||(t[6]=e=>l.showAddProductModal=!1)})])])])],2)):(0,s.Q3)("",!0)])],64)}a(4603),a(7566),a(8721);var bt=a(5600),yt=a(144),Lt=a(4161),wt=a(7844),Ct={data(){return{barMinValue:0,barMaxValue:20,currentCollection:"siteCollection",selectedBodyPart:null,newCategory:"",userId:null,imageOption:"link",showAddProductModal:!1,newProduct:{name:"",price:"",image:"",category:""},uploadedFile:null}},created(){const e=(0,bt.xI)();this.userId=e.currentUser?e.currentUser.uid:null,this.fetchCategories(),this.userId&&(this.currentCollection="myCollection")},methods:{UpdateValues(e){this.barMinValue=e.minValue,this.barMaxValue=e.maxValue},selectBodyPart(e){console.log(`Selected body part: ${e}`),this.selectedBodyPart=e},fetchMyCollection:function(){return new Promise((e=>{const t=(0,Lt.C3)(),a=(0,Lt.KR)(t,`users/${this.userId}/products`);console.log(`Fetching products from: users/${this.userId}/products`),(0,Lt.Zy)(a,(t=>{const a=t.val();console.log("Fetched data:",a),a&&(this.userProducts=Object.keys(a).map((e=>Object.keys(a[e]).map((t=>({category:e,name:t,...a[e][t]}))))).flat()),e()}))}))},fetchCategories:async function(){const e=(0,Lt.C3)(),t=(0,Lt.KR)(e,"products");(0,Lt.Zy)(t,(e=>{const t=e.val();t&&(this.categories=Object.keys(t))}))},handleSiteCollectionClick(){this.currentCollection="siteCollection",this.resetView()},resetView(){this.showCategories=!this.showCategories,this.showMyCollection=!1,this.scrollToCategories(),this.selectedCategory=null,this.products=[]},removeProductFromMyCollection(e){const t=(0,Lt.C3)(),a=(0,Lt.KR)(t,`users/${this.userId}/products/${e.category}/${e.name}`);(0,Lt.TF)(a).then((()=>{this.$store.dispatch("showNotification",{message:"Produit supprimé de votre collection avec succès !",type:"success"});const t=this.userProducts.findIndex((t=>t.name===e.name&&t.category===e.category));-1!==t&&(this.userProducts.splice(t,1),this.userProducts=[...this.userProducts]),this.fetchMyCollection()}))},addProductToMyCollection(e){const t=(0,Lt.C3)(),a=(0,Lt.KR)(t,`users/${this.userId}/myCollection/${e.category}/${e.name}`);(0,Lt.hZ)(a,e)},handleFileUpload(e){const t=e.target.files[0];this.uploadedFile=t,this.newProduct.image=URL.createObjectURL(t)},handleButtonClick(){this.currentCollection="myCollection",console.log("Fetching my collection..."),this.fetchMyCollection().then((()=>{this.showCategories=!1,this.products=[],window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}))},addProduct:async function(){if(!this.newProduct.name||!this.newProduct.price||!this.newProduct.image||!this.newProduct.category||!this.selectedBodyPart)return void this.$store.dispatch("showNotification",{message:"Veuillez remplir tous les champs, y compris la sélection d'une partie du corps.",type:"error"});let e=this.newProduct.image;"file"===this.imageOption&&(e=await this.uploadImage(this.uploadedFile,this.userId));const t=(0,Lt.C3)(),a="new"===this.newProduct.category?this.newCategory:this.newProduct.category,o=(0,Lt.KR)(t,`users/${this.userId}/products/${a}/${this.newProduct.name}`);(0,Lt.hZ)(o,{name:this.newProduct.name,image:e,price:this.newProduct.price,bodyPart:this.selectedBodyPart}).then((()=>{this.newProduct.name="",this.newProduct.price="",this.newProduct.category="",this.newProduct.image="",this.newCategory="",this.uploadedFile=null,this.showAddProductModal=!1,this.$store.dispatch("showNotification",{message:"Produit ajouté avec succès !",type:"success"}),"new"===this.newProduct.category&&(this.categories=[...this.categories,this.newCategory])}))},uploadImage:async function(e,t){const a=(0,wt.c7)(),o=(0,wt.KR)(a,`users/${t}/products/${e.name}`),s=(0,wt.bp)(o,e);return new Promise(((e,t)=>{s.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{t(e)}),(()=>{(0,wt.qk)(s.snapshot.ref).then((t=>{e(t)}))}))}))}},mounted(){},setup(){const e=(0,E.rd)(),t=(0,yt.KR)(""),a=(0,yt.KR)(""),o=(0,yt.KR)(""),l=(0,yt.KR)(["Jeans","T-shirt","Chaussette","Chaussure"]),n=(0,yt.KR)([]),r=(0,yt.KR)(""),i=(0,f.Pj)(),c=(0,s.EW)((()=>i.state.admin)),d=(0,s.EW)((()=>i.state.isLoggedIn)),u=(0,yt.KR)(!1),m=(0,yt.KR)(!1),p=(0,yt.KR)(null),g=(0,yt.KR)(null),h=()=>{(0,s.dY)((()=>{p.value&&p.value.scrollIntoView({behavior:"smooth"})}))},k=()=>{e.push({name:"AddProduct"})},A=async e=>{const t=(0,Lt.C3)(),a=(0,Lt.KR)(t,`products/${e}`);(0,Lt.Zy)(a,(e=>{n.value=e.val()}))},v=()=>{(0,s.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))};(0,s.wB)(n,(()=>{(0,s.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))}));const b=(0,s.EW)((()=>l.value)),y=async()=>{const e=(0,Lt.C3)(),t=(0,Lt.KR)(e,"siteCollection");(0,Lt.Zy)(t,(e=>{n.value=e.val()}))};return{goToAddProductPage:k,fetchSiteCollection:y,isAdmin:c,name:t,price:a,category:o,categories:l,products:n,fetchProducts:A,scrollToProduct:v,message:r,filteredCategories:b,isLoggedIn:d,showCategories:u,showMyCollection:m,categoryButtons:p,scrollToCategories:h,selectedCategory:g}}};const ft=(0,He.A)(Ct,[["render",vt],["__scopeId","data-v-40c36f07"]]);var Et=ft,Mt={name:"HomePage",components:{AppMaps:Ze,AppShop:Et},setup(){const e=(0,f.Pj)(),t=(0,s.EW)((()=>e.state.admin)),a=(0,s.EW)((()=>e.state.isLoggedIn));return{isAdmin:t,isLoggedIn:a}}};const Pt=(0,He.A)(Mt,[["render",D],["__scopeId","data-v-6d1624e0"]]);var It=Pt;const Ut=e=>((0,s.Qi)("data-v-0d9cf254"),e=e(),(0,s.jt)(),e),Rt={class:"container mt-5"},Dt={class:"row justify-content-center"},Bt={class:"col-md-12"},Ft={class:"card"},xt=Ut((()=>(0,s.Lk)("div",{class:"card-header"},"Login",-1))),Qt={class:"card-body"},Kt={class:"mb-3"},Vt=Ut((()=>(0,s.Lk)("label",{class:"form-label"},"Email",-1))),Xt={class:"mb-3"},Gt=Ut((()=>(0,s.Lk)("label",{class:"form-label"},"Password",-1))),Ot=Ut((()=>(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1)));function jt(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",Rt,[(0,s.Lk)("div",Dt,[(0,s.Lk)("div",Bt,[(0,s.Lk)("div",Ft,[xt,(0,s.Lk)("div",Qt,[(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[(0,s.Lk)("div",Kt,[Vt,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),class:"form-control",placeholder:"Email",required:""},null,512),[[o.Jo,l.email]])]),(0,s.Lk)("div",Xt,[Gt,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),class:"form-control",placeholder:"Password",required:""},null,512),[[o.Jo,l.password]])]),Ot],32)])])])])])}var Nt={setup(){const e=(0,f.Pj)(),t=(0,yt.KR)(""),a=(0,yt.KR)(""),o=async()=>{const o=(0,bt.xI)();try{const s=await(0,bt.x9)(o,a.value,t.value),l=s.user,n=(0,Lt.C3)(),r=(0,Lt.KR)(n,`users/${l.uid}`),i=await(0,Lt.Jt)(r);i.exists()&&(l.username=i.val().username);const c=await e.dispatch("login",l);c?Gl.push("/admin-dashboard"):Gl.push("/"),e.dispatch("showNotification",{message:"Connexion réussie",type:"success"}),a.value="",t.value=""}catch(s){console.error(s.code),console.error(s.message),e.dispatch("showNotification",{message:s.message,type:"error"})}};return{email:a,password:t,login:o}}};const Tt=(0,He.A)(Nt,[["render",jt],["__scopeId","data-v-0d9cf254"]]);var zt=Tt;const Wt=e=>((0,s.Qi)("data-v-34913de6"),e=e(),(0,s.jt)(),e),St={class:"container mt-5"},Ht={class:"row justify-content-center"},qt={class:"col-md-12"},Zt={class:"card"},Yt=Wt((()=>(0,s.Lk)("div",{class:"card-header"},"Inscription",-1))),Jt={class:"card-body"},_t={class:"mb-3"},$t=Wt((()=>(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1))),ea={class:"mb-3"},ta=Wt((()=>(0,s.Lk)("label",{class:"form-label"},"Email",-1))),aa={class:"mb-3"},oa=Wt((()=>(0,s.Lk)("label",{class:"form-label"},"Mot de passe",-1))),sa=Wt((()=>(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Inscription",-1))),la=Wt((()=>(0,s.Lk)("br",null,null,-1)));function na(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",St,[(0,s.Lk)("div",Ht,[(0,s.Lk)("div",qt,[(0,s.Lk)("div",Zt,[Yt,(0,s.Lk)("div",Jt,[(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>l.register&&l.register(...e)),["prevent"]))},[(0,s.Lk)("div",_t,[$t,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),class:"form-control",placeholder:"Nom d'utilisateur",required:""},null,512),[[o.Jo,l.username]])]),(0,s.Lk)("div",ea,[ta,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),class:"form-control",placeholder:"Email",required:""},null,512),[[o.Jo,l.email]])]),(0,s.Lk)("div",aa,[oa,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),class:"form-control",placeholder:"Mot de passe",required:""},null,512),[[o.Jo,l.password]])]),sa],32),la])])])])])}var ra={setup(){const e=(0,f.Pj)(),t=(0,yt.KR)(""),a=(0,yt.KR)(""),o=(0,yt.KR)(""),s=async()=>{const s=(0,bt.xI)();(0,bt.eG)(s);const l=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;if(l.test(o.value))if(a.value.length<6)e.dispatch("showNotification",{message:"Le mot de passe doit comporter au moins 6 caractères",type:"error"});else try{const l=await(0,bt.eJ)(s,o.value,a.value),n=l.user,r=(0,Lt.C3)(),i=(0,Lt.KR)(r,`users/${n.uid}`);await(0,Lt.hZ)(i,{admin:!1,email:n.email,username:t.value});const c=await(0,Lt.Jt)(i);c.exists()&&(n.username=c.val().username,n.admin=c.val().admin);const d=await e.dispatch("login",n);d?Gl.push("/admin-dashboard"):Gl.push("/"),e.dispatch("showNotification",{message:"Inscription réussie",type:"success"}),t.value="",a.value="",o.value=""}catch(n){console.error(n.code),console.error(n.message),e.dispatch("showNotification",{message:n.message,type:"error"})}else e.dispatch("showNotification",{message:"L'email n'est pas valide",type:"error"})};return{username:t,password:a,email:o,register:s}}};const ia=(0,He.A)(ra,[["render",na],["__scopeId","data-v-34913de6"]]);var ca=ia,da=a(4912);const ua=e=>((0,s.Qi)("data-v-2900739f"),e=e(),(0,s.jt)(),e),ma={class:"not-found-container"},pa=ua((()=>(0,s.Lk)("img",{src:da,alt:"Logo",class:"logo"},null,-1))),ga=ua((()=>(0,s.Lk)("h1",null,"404 Not Found",-1))),ha=ua((()=>(0,s.Lk)("p",null,"La page que vous recherchez n'existe pas.",-1))),ka=[pa,ga,ha];function Aa(e,t,a,o,l,n){return(0,s.uX)(),(0,s.CE)("div",ma,ka)}var va={name:"NotFound"};const ba=(0,He.A)(va,[["render",Aa],["__scopeId","data-v-2900739f"]]);var ya=ba;const La=e=>((0,s.Qi)("data-v-784ba12c"),e=e(),(0,s.jt)(),e),wa=La((()=>(0,s.Lk)("br",null,null,-1))),Ca={class:"dashboard"},fa=La((()=>(0,s.Lk)("div",{class:"icon"},[(0,s.Lk)("i",{class:"fas fa-users"})],-1))),Ea=La((()=>(0,s.Lk)("div",{class:"title"},"Gestion des utilisateurs",-1))),Ma=[fa,Ea],Pa=La((()=>(0,s.Lk)("div",{class:"icon"},[(0,s.Lk)("i",{class:"fas fa-box-open"})],-1))),Ia=La((()=>(0,s.Lk)("div",{class:"title"},"Gestion des produits",-1))),Ua=[Pa,Ia];function Ra(e,t,a,o,l,n){return(0,s.uX)(),(0,s.CE)(s.FK,null,[wa,(0,s.Lk)("div",Ca,[(0,s.Lk)("div",{class:"card",onClick:t[0]||(t[0]=t=>e.$router.push("/user-management"))},Ma),(0,s.Lk)("div",{class:"card",onClick:t[1]||(t[1]=t=>e.$router.push("/product-management"))},Ua)])],64)}var Da={};const Ba=(0,He.A)(Da,[["render",Ra],["__scopeId","data-v-784ba12c"]]);var Fa=Ba;async function xa(e){const t=(0,Lt.C3)(),a=(0,Lt.KR)(t,`users/${e}`),o=await(0,Lt.Jt)(a),s=o.val();if(s)return!0===s.admin;throw new Error("User does not exist")}var Qa=(0,f.y$)({state:{isLoading:!0,isLoggedIn:!1,user:null,admin:!1,users:{},notification:{message:"",type:"info"}},mutations:{setLoading(e,t){e.isLoading=t},setUser(e,t){e.user=t,e.isLoggedIn=!!t,e.admin=!!t&&t.admin,localStorage.setItem("authToken",t.authToken)},setNotification(e,t){e.notification=t}},actions:{async init({dispatch:e}){return new Promise(((t,a)=>{const o=(0,bt.hg)((0,bt.xI)(),(a=>{a&&e("checkAdminStatus"),o(),t()}),a)}))},async login({commit:e},t){const a=await xa(t.uid);return e("setUser",{...t,admin:a}),a},logout({commit:e}){const t=(0,bt.xI)();(0,bt.CI)(t).then((()=>{e("setUser",null),localStorage.removeItem("authToken"),localStorage.removeItem("user")})).catch((e=>{console.error(e)}))},showNotification({commit:e},t){e("setNotification",t),setTimeout((()=>{e("setNotification",{message:"",type:"info"})}),3e3)},async checkAdminStatus({commit:e}){const t=(0,bt.xI)(),a=t.currentUser;if(a)try{const t=await xa(a.uid),o=(0,Lt.C3)(),s=(0,Lt.KR)(o,`users/${a.uid}`),l=await(0,Lt.Jt)(s);return l.exists()&&(a.username=l.val().username),e("setUser",{...a,admin:t}),Promise.resolve()}catch(o){return Promise.reject(o)}else{const t=JSON.parse(localStorage.getItem("user"));t&&e("setUser",t)}}}});const Ka=e=>((0,s.Qi)("data-v-241c8562"),e=e(),(0,s.jt)(),e),Va={class:"mt-5"},Xa={class:"col-6"},Ga={class:"mb-3"},Oa=Ka((()=>(0,s.Lk)("label",{class:"form-label"},"Gestion des utilisateurs",-1))),ja=Ka((()=>(0,s.Lk)("hr",null,null,-1))),Na=Ka((()=>(0,s.Lk)("div",null,null,-1))),Ta={class:"table-responsive"},za={class:"table table-striped"},Wa=Ka((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Nom d'utilisateur"),(0,s.Lk)("th",null,"Email"),(0,s.Lk)("th",null,"UID"),(0,s.Lk)("th",null,"Admin"),(0,s.Lk)("th",null,"Actions")])],-1))),Sa={class:"username"},Ha={class:"email"},qa={class:"uid"},Za={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-check-circle-fill svg-icon",viewBox:"0 0 16 16"},Ya=Ka((()=>(0,s.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323A.75.75 0 0 0 4.616 8.03l2.363 2.394a.75.75 0 0 0 1.06 0l4.886-4.976a.75.75 0 0 0-.025-1.065z"},null,-1))),Ja=[Ya],_a={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle-fill svg-icon",viewBox:"0 0 16 16"},$a=Ka((()=>(0,s.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.293-2.707a1 1 0 0 0-1.414-1.414L8 6.586 5.707 4.293a1 1 0 0 0-1.414 1.414L6.586 8l-2.293 2.293a1 1 0 0 0 1.414 1.414L8 9.414l2.293 2.293a1 1 0 0 0 1.414-1.414L9.414 8l2.293-2.293z"},null,-1))),eo=[$a],to=["onClick"],ao=["onClick"],oo=["onClick"],so={class:"modal-dialog"},lo={class:"modal-content"},no={class:"modal-header"},ro=Ka((()=>(0,s.Lk)("h5",{class:"modal-title"},"Modifier l'utilisateur",-1))),io={class:"modal-body"},co={class:"mb-3"},uo=Ka((()=>(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1))),mo={class:"mb-3"},po=Ka((()=>(0,s.Lk)("label",{class:"form-label"},"Admin",-1))),go=Ka((()=>(0,s.Lk)("option",{value:!0},"True",-1))),ho=Ka((()=>(0,s.Lk)("option",{value:!1},"False",-1))),ko=[go,ho],Ao={class:"modal-footer"},vo={class:"modal-dialog"},bo={class:"modal-content"},yo={class:"modal-header"},Lo=Ka((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un utilisateur",-1))),wo={class:"modal-body"},Co={class:"mb-3"},fo=Ka((()=>(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1))),Eo={class:"mb-3"},Mo=Ka((()=>(0,s.Lk)("label",{class:"form-label"},"Mot de passe",-1))),Po={class:"mb-3"},Io=Ka((()=>(0,s.Lk)("label",{class:"form-label"},"Email",-1))),Uo={class:"mb-3"},Ro=Ka((()=>(0,s.Lk)("label",{class:"form-label"},"Admin",-1))),Do=Ka((()=>(0,s.Lk)("option",{value:!0},"True",-1))),Bo=Ka((()=>(0,s.Lk)("option",{value:!1},"False",-1))),Fo=[Do,Bo],xo={key:0,class:"alert alert-danger"},Qo={class:"modal-footer"};function Ko(e,t,a,l,n,i){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("button",{class:"btn btn-secondary float-right go-back-button",onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e))},"Retour"),(0,s.Lk)("div",Va,[(0,s.Lk)("div",Xa,[(0,s.Lk)("div",Ga,[Oa,ja,(0,s.Lk)("button",{class:"btn btn-success mb-3",onClick:t[1]||(t[1]=(...e)=>l.openAddUserModal&&l.openAddUserModal(...e))},"Ajouter un utilisateur"),Na])]),(0,s.Lk)("div",Ta,[(0,s.Lk)("table",za,[Wa,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.users,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",Sa,(0,r.v_)(e.username),1),(0,s.Lk)("td",Ha,(0,r.v_)(e.email),1),(0,s.Lk)("td",qa,(0,r.v_)(t),1),(0,s.Lk)("td",null,[e.admin?((0,s.uX)(),(0,s.CE)("svg",Za,Ja)):((0,s.uX)(),(0,s.CE)("svg",_a,eo))]),(0,s.Lk)("td",null,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:a=>l.openEditUserModal(e,t)},"Modifier",8,to),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:e=>l.deleteUser(t)},"Supprimer",8,ao),(0,s.Lk)("button",{class:"btn btn-secondary me-2",onClick:e=>l.toggleAdmin(t)},"Changer le statut d'admin",8,oo)])])))),128))])])]),l.isEditUserModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,r.C4)(["modal",{"show d-block":l.isEditUserModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",so,[(0,s.Lk)("div",lo,[(0,s.Lk)("div",no,[ro,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:t[2]||(t[2]=(...e)=>l.closeEditUserModal&&l.closeEditUserModal(...e))})]),(0,s.Lk)("div",io,[(0,s.Lk)("div",co,[uo,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.editedUser.username=e),class:"form-control"},null,512),[[o.Jo,l.editedUser.username]])]),(0,s.Lk)("div",mo,[po,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.editedUser.admin=e),class:"form-control"},ko,512),[[o.u1,l.editedUser.admin]])])]),(0,s.Lk)("div",Ao,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=(...e)=>l.closeEditUserModal&&l.closeEditUserModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[6]||(t[6]=e=>l.editUser(l.editedUser,l.editedUser.uid))},"Enregistrer les modifications")])])])],2)):(0,s.Q3)("",!0),l.isAddUserModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,r.C4)(["modal",{"show d-block":l.isAddUserModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",vo,[(0,s.Lk)("div",bo,[(0,s.Lk)("div",yo,[Lo,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:t[7]||(t[7]=(...e)=>l.closeAddUserModal&&l.closeAddUserModal(...e))})]),(0,s.Lk)("div",wo,[(0,s.Lk)("div",Co,[fo,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>l.newUser.username=e),class:"form-control"},null,512),[[o.Jo,l.newUser.username]])]),(0,s.Lk)("div",Eo,[Mo,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[9]||(t[9]=e=>l.newUser.password=e),class:"form-control"},null,512),[[o.Jo,l.newUser.password]])]),(0,s.Lk)("div",Po,[Io,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=e=>l.newUser.email=e),class:"form-control"},null,512),[[o.Jo,l.newUser.email]])]),(0,s.Lk)("div",Uo,[Ro,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.newUser.admin=e),class:"form-control"},Fo,512),[[o.u1,l.newUser.admin]])]),l.newUser.errorMessage?((0,s.uX)(),(0,s.CE)("div",xo,(0,r.v_)(l.newUser.errorMessage),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Qo,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[12]||(t[12]=(...e)=>l.closeAddUserModal&&l.closeAddUserModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[13]||(t[13]=(...e)=>l.addUser&&l.addUser(...e))},"Ajouter l'utilisateur")])])])],2)):(0,s.Q3)("",!0)])],64)}var Vo={methods:{goBack(){this.$router.push("/admin-dashboard")}},setup(){const e=(0,Lt.C3)(),t=(0,yt.KR)({}),a=(0,yt.KR)(!1),o=(0,yt.KR)({}),l=(0,yt.KR)(!1),n=(0,yt.KR)({});(0,s.sV)((async()=>{const a=(0,Lt.KR)(e,"users");(0,Lt.Zy)(a,(e=>{t.value=e.val()}))}));const r=async t=>{const a=(0,Lt.KR)(e,`users/${t}`),o=await(0,Lt.Jt)(a),s=o.val();await(0,Lt.yo)(a,{admin:!s.admin})},i=(e,t)=>{o.value={...e,uid:t},a.value=!0,console.log(o.value)},c=()=>{a.value=!1},d=async(t,a)=>{const o=(0,Lt.KR)(e,`users/${a}`);await(0,Lt.yo)(o,{admin:t.admin,username:t.username}),c()},u=async e=>{const t=(0,bt.xI)(),a=t.currentUser;if(a&&a.uid===e){await(0,bt.hG)(a).catch((t=>{console.error(`Failed to delete user: ${e}`,t)}));const t=(0,Lt.C3)(),o=(0,Lt.KR)(t,`users/${e}`);await(0,Lt.TF)(o).catch((t=>{console.error(`Failed to delete user from database: ${e}`,t)}))}else console.error("User does not exist or is not currently signed in:",e)},m=()=>{n.value={username:"",password:"",admin:!1},l.value=!0},p=()=>{l.value=!1},g=async()=>{const e=(0,bt.xI)(),{username:t,password:a,email:o,admin:s}=n.value;try{const l=await(0,bt.eJ)(e,o,a),n=l.user;await(0,bt.r7)(n,{displayName:t});const r=(0,Lt.C3)(),i=(0,Lt.KR)(r,`users/${n.uid}`);await(0,Lt.yo)(i,{admin:s,email:o,username:t}),p(),Qa.dispatch("showNotification",{message:"Utilisateur ajouté avec succès",type:"success"})}catch(l){console.error(`Failed to create user: ${t}`,l.code,l.message),Qa.dispatch("showNotification",{message:`Échec de l'ajout de l'utilisateur : ${l.message}`,type:"error"})}};return{users:t,toggleAdmin:r,isEditUserModalOpen:a,editedUser:o,openEditUserModal:i,closeEditUserModal:c,editUser:d,deleteUser:u,isAddUserModalOpen:l,newUser:n,openAddUserModal:m,closeAddUserModal:p,addUser:g}}};const Xo=(0,He.A)(Vo,[["render",Ko],["__scopeId","data-v-241c8562"]]);var Go=Xo;const Oo=e=>((0,s.Qi)("data-v-31679dfc"),e=e(),(0,s.jt)(),e),jo={class:"mt-5"},No={class:"col-6"},To={class:"mb-3"},zo=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Gestion des Produits",-1))),Wo=["onClick"],So={class:"mb-3"},Ho={class:"table-responsive"},qo={class:"table table-striped"},Zo=Oo((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Image"),(0,s.Lk)("th",null,"Nom du produit"),(0,s.Lk)("th",null,"Prix"),(0,s.Lk)("th",null,"Actions")])],-1))),Yo=["src"],Jo=["onClick"],_o=["onClick"],$o={class:"modal-dialog"},es={class:"modal-content"},ts={class:"modal-header"},as=Oo((()=>(0,s.Lk)("h5",{class:"modal-title"},"Modifier le produit",-1))),os={class:"modal-body"},ss={class:"mb-3"},ls=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Nom du produit",-1))),ns={class:"mb-3"},rs=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Prix du produit",-1))),is={class:"mb-3"},cs=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Lien de la photo du produit",-1))),ds={class:"modal-footer"},us={class:"modal-dialog"},ms={class:"modal-content"},ps={class:"modal-header"},gs=Oo((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un produit",-1))),hs={class:"modal-body"},ks={class:"mb-3"},As=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Nom du produit",-1))),vs={class:"mb-3"},bs=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Prix du produit",-1))),ys={class:"mb-3"},Ls=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Lien de la photo du produit",-1))),ws={class:"mb-3"},Cs=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Catégorie du produit",-1))),fs=["value"],Es=Oo((()=>(0,s.Lk)("option",{value:"new"},"Ajouter une nouvelle catégorie",-1))),Ms={key:0,class:"mb-3"},Ps=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Nom de la nouvelle catégorie",-1))),Is={class:"modal-footer"},Us={class:"modal-dialog"},Rs={class:"modal-content"},Ds={class:"modal-header"},Bs=Oo((()=>(0,s.Lk)("h5",{class:"modal-title"},"Supprimer une catégorie",-1))),Fs={class:"modal-body"},xs={class:"mb-3"},Qs=Oo((()=>(0,s.Lk)("label",{class:"form-label"},"Catégorie à supprimer",-1))),Ks=["value"],Vs={class:"modal-footer"};function Xs(e,t,a,l,n,i){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("button",{class:"btn btn-secondary float-right go-back-button",onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e))},"Retour"),(0,s.Lk)("div",jo,[(0,s.Lk)("div",No,[(0,s.Lk)("div",To,[zo,(0,s.Lk)("div",null,[(0,s.Lk)("button",{class:"btn btn-outline-primary me-2",onClick:t[1]||(t[1]=e=>l.selectedCategory="")},"Tous les produits"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.categories,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:"btn btn-outline-secondary me-2",onClick:t=>l.selectedCategory=e},(0,r.v_)(e),9,Wo)))),128))])]),(0,s.Lk)("div",So,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:t[2]||(t[2]=(...e)=>l.openAddProductModal&&l.openAddProductModal(...e))},"Ajouter un produit"),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:t[3]||(t[3]=(...e)=>l.openDeleteCategoryModal&&l.openDeleteCategoryModal(...e))},"Supprimer une catégorie")])]),(0,s.Lk)("div",Ho,[(0,s.Lk)("table",qo,[Zo,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.filteredProducts,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.name},[(0,s.Lk)("td",null,[(0,s.Lk)("img",{src:e.image,alt:"Product image",class:"product-image"},null,8,Yo)]),(0,s.Lk)("td",null,(0,r.v_)(e.name),1),(0,s.Lk)("td",null,(0,r.v_)(e.price),1),(0,s.Lk)("td",null,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:t=>l.openEditModal(e)},"Modifier",8,Jo),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:t=>l.deleteProduct(e,e.category)},"Supprimer",8,_o)])])))),128))])])]),l.isEditModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,r.C4)(["modal",{"show d-block":l.isEditModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",$o,[(0,s.Lk)("div",es,[(0,s.Lk)("div",ts,[as,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:t[4]||(t[4]=(...e)=>l.closeEditModal&&l.closeEditModal(...e))})]),(0,s.Lk)("div",os,[(0,s.Lk)("div",ss,[ls,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>l.editedProduct.name=e),class:"form-control"},null,512),[[o.Jo,l.editedProduct.name]])]),(0,s.Lk)("div",ns,[rs,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=e=>l.editedProduct.price=e),class:"form-control"},null,512),[[o.Jo,l.editedProduct.price]])]),(0,s.Lk)("div",is,[cs,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>l.editedProduct.image=e),class:"form-control"},null,512),[[o.Jo,l.editedProduct.image]])])]),(0,s.Lk)("div",ds,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[8]||(t[8]=(...e)=>l.closeEditModal&&l.closeEditModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[9]||(t[9]=(...e)=>l.editProduct&&l.editProduct(...e))},"Enregistrer les modifications")])])])],2)):(0,s.Q3)("",!0),l.isAddProductModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,r.C4)(["modal",{"show d-block":l.isAddProductModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",us,[(0,s.Lk)("div",ms,[(0,s.Lk)("div",ps,[gs,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:t[10]||(t[10]=(...e)=>l.closeAddProductModal&&l.closeAddProductModal(...e))})]),(0,s.Lk)("div",hs,[(0,s.Lk)("div",ks,[As,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>l.newProduct.name=e),class:"form-control"},null,512),[[o.Jo,l.newProduct.name]])]),(0,s.Lk)("div",vs,[bs,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=e=>l.newProduct.price=e),class:"form-control"},null,512),[[o.Jo,l.newProduct.price]])]),(0,s.Lk)("div",ys,[Ls,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=e=>l.newProduct.image=e),class:"form-control"},null,512),[[o.Jo,l.newProduct.image]])]),(0,s.Lk)("div",ws,[Cs,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.newProduct.category=e),class:"form-control",onChange:t[15]||(t[15]=(...e)=>l.handleCategoryChange&&l.handleCategoryChange(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,r.v_)(e),9,fs)))),128)),Es],544),[[o.u1,l.newProduct.category]])]),l.isNewCategory?((0,s.uX)(),(0,s.CE)("div",Ms,[Ps,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=e=>l.newCategory=e),class:"form-control"},null,512),[[o.Jo,l.newCategory]])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Is,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[17]||(t[17]=(...e)=>l.closeAddProductModal&&l.closeAddProductModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[18]||(t[18]=(...e)=>l.addProduct&&l.addProduct(...e))},"Ajouter le produit")])])])],2)):(0,s.Q3)("",!0),l.isDeleteCategoryModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,r.C4)(["modal",{"show d-block":l.isDeleteCategoryModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Us,[(0,s.Lk)("div",Rs,[(0,s.Lk)("div",Ds,[Bs,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:t[19]||(t[19]=(...e)=>l.closeDeleteCategoryModal&&l.closeDeleteCategoryModal(...e))})]),(0,s.Lk)("div",Fs,[(0,s.Lk)("div",xs,[Qs,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[20]||(t[20]=e=>l.categoryToDelete=e),class:"form-control"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,r.v_)(e),9,Ks)))),128))],512),[[o.u1,l.categoryToDelete]])])]),(0,s.Lk)("div",Vs,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[21]||(t[21]=(...e)=>l.closeDeleteCategoryModal&&l.closeDeleteCategoryModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[22]||(t[22]=(...e)=>l.deleteCategory&&l.deleteCategory(...e))},"Supprimer la catégorie")])])])],2)):(0,s.Q3)("",!0)])],64)}var Gs={methods:{goBack(){this.$router.push("/admin-dashboard")}},setup(){const e=(0,yt.KR)({}),t=(0,yt.KR)(""),a=(0,Lt.C3)(),o=(0,E.rd)(),l=(0,f.Pj)(),n=(0,yt.KR)(""),r=(0,f.Pj)(),i=(0,yt.KR)(!1),c=(0,yt.KR)({}),d=(0,yt.KR)(!1),u=(0,yt.KR)({}),m=(0,yt.KR)(!1),p=(0,yt.KR)(""),g=(0,yt.KR)(!1),h=(0,yt.KR)(!1),k=(0,yt.KR)(""),A=()=>{k.value="",h.value=!0},v=()=>{h.value=!1},b=async()=>{const e=(0,Lt.KR)(a,`products/${k.value}`),t=await(0,Lt.Jt)(e),o=t.val();for(const s in o){const e=(0,Lt.KR)(a,`products/${k.value}/${s}`);await(0,Lt.TF)(e).catch((e=>{console.error(`Échec de la suppression du produit : ${s} dans la catégorie : ${k.value}`,e)}))}await(0,Lt.TF)(e).catch((e=>{console.error(`Échec de la suppression de la catégorie : ${k.value}`,e)})),v()},y=()=>{"new"===u.value.category?(g.value=!0,u.value.category=""):g.value=!1},L=()=>{u.value={},d.value=!0},w=()=>{d.value=!1},C=async()=>{g.value&&(u.value.category=p.value);const e=(0,Lt.KR)(a,`products/${u.value.category}/${u.value.name}`);await(0,Lt.hZ)(e,{name:u.value.name,price:u.value.price,image:u.value.image}).catch((e=>{console.error(`Échec de l'ajout du produit : ${u.value.name} dans la catégorie : ${u.value.category}`,e)})),w()},M=()=>{p.value="",m.value=!0},P=()=>{m.value=!1},I=async()=>{const e=(0,Lt.KR)(a,`products/${p.value}`),t={name:p.value,products:{}};await(0,Lt.hZ)(e,t).catch((e=>{console.error(`Échec de l'ajout de la catégorie : ${p.value}`,e)})),P()};(0,s.sV)((async()=>{if(l.state.admin){const t=(0,Lt.KR)(a,"products");(0,Lt.Zy)(t,(t=>{e.value=t.val()}))}else o.push("/")}));const U=e=>{c.value={...e},i.value=!0},R=()=>{i.value=!1},D=async()=>{const e=(0,Lt.KR)(a,`products/${c.value.category}/${c.value.name}`);await(0,Lt.yo)(e,{name:c.value.name,price:c.value.price,image:c.value.image}).catch((e=>{console.error(`Échec de la modification du produit : ${c.value.name} dans la catégorie : ${c.value.category}`,e)})),R()},B=async(e,t)=>{if(t&&e.name){const o=(0,Lt.KR)(a,`products/${t}`),s=await(0,Lt.Jt)(o),l=s.val();if(1===Object.keys(l).length)return void r.dispatch("showNotification",{message:`Échec de la suppression du produit : ${e.name} est le dernier produit de la catégorie : ${t}. Vous ne pouvez pas supprimer le dernier produit d'une catégorie.`,type:"error"});const n=(0,Lt.KR)(a,`products/${t}/${e.name}`);await(0,Lt.TF)(n).catch((a=>{console.error(`Échec de la suppression du produit : ${e.name} dans la catégorie : ${t}`,a)}))}else console.error(`Échec de la suppression du produit : La catégorie ou le nom du produit n'est pas défini. Catégorie : ${t}, Nom du produit : ${e.name}`)},F=(0,s.EW)((()=>Object.keys(e.value))),x=(0,s.EW)((()=>{let a=[];if(e.value){for(const t in e.value){const o=Object.values(e.value[t]);for(const e of o)e.category=t,a.push(e)}t.value&&(a=a.filter((e=>e.category===t.value))),n.value&&(a=a.filter((e=>e.name.includes(n.value))))}return a}));return{products:e,editProduct:D,deleteProduct:B,categories:F,selectedCategory:t,filteredProducts:x,searchTerm:n,isEditModalOpen:i,editedProduct:c,openEditModal:U,closeEditModal:R,isAddProductModalOpen:d,newProduct:u,openAddProductModal:L,closeAddProductModal:w,addProduct:C,isAddCategoryModalOpen:m,newCategory:p,openAddCategoryModal:M,closeAddCategoryModal:P,addCategory:I,isNewCategory:g,handleCategoryChange:y,isDeleteCategoryModalOpen:h,categoryToDelete:k,openDeleteCategoryModal:A,closeDeleteCategoryModal:v,deleteCategory:b}}};const Os=(0,He.A)(Gs,[["render",Xs],["__scopeId","data-v-31679dfc"]]);var js=Os,Ns=a.p+"img/head.0c69b582.png",Ts="data:image/png;base64,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",zs="data:image/png;base64,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",Ws="data:image/png;base64,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";const Ss=e=>((0,s.Qi)("data-v-62a2eac5"),e=e(),(0,s.jt)(),e),Hs={class:"modal-content"},qs={class:"modal-header"},Zs=Ss((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un produit",-1))),Ys={class:"modal-body"},Js={class:"row"},_s={class:"col-md-6 border-right"},$s={class:"mb-3"},el=Ss((()=>(0,s.Lk)("label",{class:"form-label"},"Nom du produit",-1))),tl={class:"mb-3"},al=Ss((()=>(0,s.Lk)("label",{class:"form-label"},"Prix du produit",-1))),ol={class:"mb-3"},sl=Ss((()=>(0,s.Lk)("label",{class:"form-label"},"Lien de la photo du produit ou télécharger un fichier",-1))),ll=Ss((()=>(0,s.Lk)("label",{for:"link"},"Lien",-1))),nl=Ss((()=>(0,s.Lk)("label",{for:"file"},"Fichier",-1))),rl={class:"mb-3"},il=Ss((()=>(0,s.Lk)("label",{class:"form-label"},"Catégorie du produit",-1))),cl=Ss((()=>(0,s.Lk)("option",{value:"",disabled:"",selected:""},"Choisir une catégorie",-1))),dl=["value"],ul=Ss((()=>(0,s.Lk)("option",{value:"new"},"Ajouter une nouvelle catégorie",-1))),ml=Ss((()=>(0,s.Lk)("br",null,null,-1))),pl={class:"mb-3"},gl=Ss((()=>(0,s.Lk)("label",{for:"temperature",class:"form-label"},"Température",-1))),hl={class:"card"},kl={class:"card-body"},Al=Ss((()=>(0,s.Lk)("h5",{class:"card-title"},"Température",-1))),vl={class:"card-text"},bl=Ss((()=>(0,s.Lk)("i",{class:"fas fa-temperature-low"},null,-1))),yl={class:"card-text"},Ll=Ss((()=>(0,s.Lk)("i",{class:"fas fa-temperature-high"},null,-1))),wl={class:"col-md-6"},Cl=Ss((()=>(0,s.Lk)("label",{class:"form-label"},"Partie du corps",-1))),fl={class:"mb-3"},El={class:"row body-part-container"},Ml={class:"col"},Pl={class:"col"},Il={class:"col"},Ul={class:"col"},Rl={key:0,class:"selected-body-part"},Dl={class:"modal-footer"};function Bl(e,t,a,l,n,i){const c=(0,s.g2)("MultiRangeSlider");return(0,s.uX)(),(0,s.CE)("div",Hs,[(0,s.Lk)("div",qs,[Zs,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=(...e)=>i.closeAndRedirect&&i.closeAndRedirect(...e))})]),(0,s.Lk)("div",Ys,[(0,s.Lk)("div",Js,[(0,s.Lk)("div",_s,[(0,s.Lk)("div",$s,[el,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.newProduct.name=e),class:"form-control",placeholder:"Entrez le nom du produit"},null,512),[[o.Jo,n.newProduct.name]])]),(0,s.Lk)("div",tl,[al,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>n.newProduct.price=e),class:"form-control",placeholder:"Entrez le prix du produit"},null,512),[[o.Jo,n.newProduct.price]])]),(0,s.Lk)("div",ol,[sl,(0,s.Lk)("div",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",id:"link",value:"link","onUpdate:modelValue":t[3]||(t[3]=e=>n.imageOption=e)},null,512),[[o.XL,n.imageOption]]),ll,(0,s.bo)((0,s.Lk)("input",{type:"radio",id:"file",value:"file","onUpdate:modelValue":t[4]||(t[4]=e=>n.imageOption=e)},null,512),[[o.XL,n.imageOption]]),nl]),"link"===n.imageOption?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:0,type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>n.newProduct.image=e),class:"form-control",placeholder:"Entrez le lien de l'image du produit"},null,512)),[[o.Jo,n.newProduct.image]]):((0,s.uX)(),(0,s.CE)("input",{key:1,type:"file",onChange:t[6]||(t[6]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e)),class:"form-control"},null,32))]),(0,s.Lk)("div",rl,[il,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.newProduct.category=e),class:"form-control"},[cl,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,r.v_)(e),9,dl)))),128)),ul],512),[[o.u1,n.newProduct.category]]),ml,"new"===n.newProduct.category?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:0,type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>n.newCategory=e),class:"form-control",placeholder:"Entrez le nom de la nouvelle catégorie"},null,512)),[[o.Jo,n.newCategory]]):(0,s.Q3)("",!0)]),(0,s.Lk)("div",pl,[gl,(0,s.bF)(c,{baseClassName:"multi-range-slider",min:-10,max:40,step:1,ruler:!0,label:!0,minValue:n.barMinValue,maxValue:n.barMaxValue,onInput:i.UpdateValues},null,8,["minValue","maxValue","onInput"]),(0,s.Lk)("div",hl,[(0,s.Lk)("div",kl,[Al,(0,s.Lk)("p",vl,[bl,(0,s.eW)(" Minimum : "+(0,r.v_)(n.barMinValue)+"°C ",1)]),(0,s.Lk)("p",yl,[Ll,(0,s.eW)(" Maximum : "+(0,r.v_)(n.barMaxValue)+"°C ",1)])])])])]),(0,s.Lk)("div",wl,[Cl,(0,s.Lk)("div",fl,[(0,s.Lk)("div",El,[(0,s.Lk)("div",Ml,[(0,s.Lk)("img",{src:Ns,alt:"Tête",onClick:t[9]||(t[9]=e=>i.selectBodyPart("Tête")),class:"body-part-image"})]),(0,s.Lk)("div",Pl,[(0,s.Lk)("img",{src:Ts,alt:"Haut",onClick:t[10]||(t[10]=e=>i.selectBodyPart("Haut")),class:"body-part-image"})]),(0,s.Lk)("div",Il,[(0,s.Lk)("img",{src:zs,alt:"Bas",onClick:t[11]||(t[11]=e=>i.selectBodyPart("Bas")),class:"body-part-image"})]),(0,s.Lk)("div",Ul,[(0,s.Lk)("img",{src:Ws,alt:"Chaussures",onClick:t[12]||(t[12]=e=>i.selectBodyPart("Chaussures")),class:"body-part-image"})])]),i.selectBodyPart?((0,s.uX)(),(0,s.CE)("div",Rl," Partie du corps sélectionnée : "+(0,r.v_)(n.selectedBodyPart),1)):(0,s.Q3)("",!0)])])])]),(0,s.Lk)("div",Dl,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[13]||(t[13]=(...e)=>i.closeAndRedirect&&i.closeAndRedirect(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[14]||(t[14]=(...e)=>i.addProduct&&i.addProduct(...e))},"Ajouter le produit")])])}var Fl=a(8372),xl={components:{MultiRangeSlider:Fl.A},data(){return{categories:[],router:(0,E.rd)(),barMinValue:0,barMaxValue:20,selectedBodyPart:null,newCategory:"",userId:null,imageOption:"link",showAddProductModal:!1,newProduct:{name:"",price:"",image:"",category:""},uploadedFile:null}},created(){const e=(0,bt.xI)();this.userId=e.currentUser?e.currentUser.uid:null,this.fetchCategories()},methods:{closeAndRedirect(){this.showAddProductModal=!1,this.router.push({name:"Home"})},UpdateValues(e){this.barMinValue=e.minValue,this.barMaxValue=e.maxValue},selectBodyPart(e){console.log(`Selected body part: ${e}`),this.selectedBodyPart=e},fetchCategories:async function(){const e=(0,Lt.C3)(),t=(0,Lt.KR)(e,"products");(0,Lt.Zy)(t,(e=>{const t=e.val();t&&(this.categories=Object.keys(t))}))},handleFileUpload(e){const t=e.target.files[0];this.uploadedFile=t,this.newProduct.image=URL.createObjectURL(t)},addProduct:async function(){if(!this.newProduct.name||!this.newProduct.price||!this.newProduct.image||!this.newProduct.category||!this.selectedBodyPart)return void this.$store.dispatch("showNotification",{message:"Veuillez remplir tous les champs, y compris la sélection d'une partie du corps.",type:"error"});let e=this.newProduct.image;"file"===this.imageOption&&(e=await this.uploadImage(this.uploadedFile,this.userId));const t=(0,Lt.C3)(),a="new"===this.newProduct.category?this.newCategory:this.newProduct.category,o=(0,Lt.KR)(t,`users/${this.userId}/products/${a}/${this.newProduct.name}`);(0,Lt.hZ)(o,{name:this.newProduct.name,image:e,price:this.newProduct.price,bodyPart:this.selectedBodyPart,minTemperature:this.barMinValue,maxTemperature:this.barMaxValue}).then((()=>{this.newProduct.name="",this.newProduct.price="",this.newProduct.category="",this.newProduct.image="",this.newCategory="",this.uploadedFile=null,this.showAddProductModal=!1,this.$store.dispatch("showNotification",{message:"Produit ajouté avec succès !",type:"success"}),"new"===this.newProduct.category&&(this.categories=[...this.categories,this.newCategory]),this.closeAndRedirect()}))},uploadImage:async function(e,t){const a=(0,wt.c7)(),o=(0,wt.KR)(a,`users/${t}/products/${e.name}`),s=(0,wt.bp)(o,e);return new Promise(((e,t)=>{s.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{t(e)}),(()=>{(0,wt.qk)(s.snapshot.ref).then((t=>{e(t)}))}))}))}}};const Ql=(0,He.A)(xl,[["render",Bl],["__scopeId","data-v-62a2eac5"]]);var Kl=Ql;const Vl=[{path:"/admin-dashboard",name:"AdminDashboard",component:Fa,meta:{requiresAdmin:!0}},{path:"/",name:"Home",component:It},{path:"/login",name:"Login",component:zt},{path:"/register",name:"Register",component:ca},{path:"/admin-dashboard",name:"AdminDashboard",component:Fa},{path:"/:pathMatch(.*)*",name:"NotFound",component:ya},{path:"/admin-dashboard",name:"AdminDashboard",component:Fa,meta:{requiresAdmin:!0}},{path:"/user-management",name:"UserManagement",component:Go,meta:{requiresAdmin:!0}},{path:"/product-management",name:"ProductManagement",component:js,meta:{requiresAdmin:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:ya},{path:"/add-product",name:"AddProduct",component:Kl}],Xl=(0,E.aE)({history:(0,E.LA)("/vuejs-projet-web/"),routes:Vl});Xl.beforeEach(((e,t,a)=>{e.matched.some((e=>e.meta.requiresAdmin))?Qa.state.admin?a():a({name:"Home"}):("Login"===e.name||"Register"===e.name)&&Qa.state.isLoggedIn?a({name:"Home"}):a()}));var Gl=Xl,Ol={data(){return{logoUrl:a(4912)}},setup(){const e=(0,f.Pj)(),t=(0,s.EW)((()=>e.state.isLoggedIn)),a=(0,s.EW)((()=>e.state.user?e.state.user.username:"")),o=(0,s.EW)((()=>e.state.admin)),l=()=>{e.dispatch("logout"),e.commit("logout"),Gl.push("/"),e.dispatch("showNotification",{message:"Deconnexion réussie",type:"success"})};return{username:a,isLoggedIn:t,logout:l,isAdmin:o}}};const jl=(0,He.A)(Ol,[["render",C],["__scopeId","data-v-2019455b"]]);var Nl=jl;function Tl(e,t,a,o,l,n){return a.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,r.C4)(`notification ${a.type}`)},(0,r.v_)(a.message),3)):(0,s.Q3)("",!0)}var zl={props:{message:{type:String,default:""},type:{type:String,default:"info"}}};const Wl=(0,He.A)(zl,[["render",Tl],["__scopeId","data-v-55c099bc"]]);var Sl=Wl,Hl={components:{AppNavbar:Nl,NotificationApp:Sl},setup(){const e=(0,f.Pj)(),t=(0,s.EW)((()=>e.state.notification));return{notification:t}},data(){return{pageTitre:"Accueil"}},mounted(){document.title=this.pageTitre}};const ql=(0,He.A)(Hl,[["render",n]]);var Zl=ql,Yl=a(6400);const Jl={apiKey:"AIzaSyAJRp8WxcFUDzBzsRnqG-TZTUQG3jWGjnQ",authDomain:"vuejs-ae8a0.firebaseapp.com",databaseURL:"https://vuejs-ae8a0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"vuejs-ae8a0",storageBucket:"vuejs-ae8a0.appspot.com",messagingSenderId:"104652181195",appId:"1:104652181195:web:9bba7498e6fb88baa7d54e",measurementId:"G-2CJPHT3X6K"};(0,Yl.Wp)(Jl),Qa.dispatch("init").then((()=>{const e=(0,o.Ef)(Zl);e.use(Qa),e.use(Gl),e.mount("#app")})).catch((e=>{console.error("Failed to init store: ",e)}))},4912:function(e,t,a){e.exports=a.p+"img/LogoToboo.f339544e.png"}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var l=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,l){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],l=e[d][2];for(var r=!0,i=0;i<o.length;i++)(!1&l||n>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[i])}))?o.splice(i--,1):(r=!1,l<n&&(n=l));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,s,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/vuejs-projet-web/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,l,n=o[0],r=o[1],i=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(i)var d=i(a)}for(t&&t(o);c<n.length;c++)l=n[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},o=self["webpackChunkprojet_web"]=self["webpackChunkprojet_web"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(3435)}));o=a.O(o)})();
//# sourceMappingURL=app.e11079d6.js.map
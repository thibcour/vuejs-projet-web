(function(){var e={7864:function(e,a,t){"use strict";var o=t(5130),s=t(6768);function n(e,a,t,o,n,l){const r=(0,s.g2)("AppNavbar"),i=(0,s.g2)("NotificationApp"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(r),(0,s.bF)(i,{message:o.notification.message,type:o.notification.type},null,8,["message","type"]),(0,s.bF)(d)])}var l=t(4232);const r=e=>((0,s.Qi)("data-v-64796ac8"),e=e(),(0,s.jt)(),e),i={class:"navbar navbar-expand-lg navbar-dark bg-dark"},d={class:"container"},c=["src"],u=r((()=>(0,s.Lk)("a",{class:"navbar-brand",href:"#"},"Toobo",-1))),m=r((()=>(0,s.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s.Lk)("span",{class:"navbar-toggler-icon"})],-1))),p={class:"collapse navbar-collapse",id:"navbarSupportedContent"},v={class:"navbar-nav ms-auto mb-2 mb-lg-0"},b={class:"nav-item"},k={key:0,class:"nav-item"},g={key:1,class:"nav-item"},L={key:2,class:"nav-item"},h={class:"nav-link"},f={key:3,class:"nav-item"},y={key:4,class:"nav-item"};function C(e,a,t,o,n,r){const C=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",i,[(0,s.Lk)("div",d,[(0,s.Lk)("img",{src:n.logoUrl,alt:"Logo",class:"navbar-logo"},null,8,c),u,m,(0,s.Lk)("div",p,[(0,s.Lk)("ul",v,[(0,s.Lk)("li",b,[(0,s.bF)(C,{class:"nav-link active",to:"/"},{default:(0,s.k6)((()=>[(0,s.eW)("Home")])),_:1})]),o.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",k,[(0,s.bF)(C,{class:"nav-link",to:"/login"},{default:(0,s.k6)((()=>[(0,s.eW)("Login")])),_:1})])),o.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("li",g,[(0,s.bF)(C,{class:"nav-link",to:"/register"},{default:(0,s.k6)((()=>[(0,s.eW)("Register")])),_:1})])),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("li",L,[(0,s.Lk)("span",h,(0,l.v_)(o.username),1)])):(0,s.Q3)("",!0),o.isLoggedIn?((0,s.uX)(),(0,s.CE)("li",f,[(0,s.Lk)("button",{class:"btn btn-link nav-link",onClick:a[0]||(a[0]=(...e)=>o.logout&&o.logout(...e))},"Logout")])):(0,s.Q3)("",!0),o.isAdmin?((0,s.uX)(),(0,s.CE)("li",y,[(0,s.bF)(C,{class:"nav-link",to:"/admin-dashboard"},{default:(0,s.k6)((()=>[(0,s.eW)("Dashboard")])),_:1})])):(0,s.Q3)("",!0)])])])])}t(4114);var w=t(782),A=t(1387);function U(e,a,t,o,n,l){const r=(0,s.g2)("AppMaps"),i=(0,s.g2)("MeteoApp"),d=(0,s.g2)("AppShop");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(r),(0,s.bF)(i),(0,s.bF)(d)])}const E=e=>((0,s.Qi)("data-v-e585516e"),e=e(),(0,s.jt)(),e),M={class:"map-container"},P={ref:"geocoderContainer",class:"geocoder-container flex-center"},x={ref:"map",class:"map"},K={ref:"geolocateContainer",class:"geolocate-container"},j=E((()=>(0,s.Lk)("div",{class:"geolocate-control custom-geolocate-button"},null,-1))),I=[j];function R(e,a,t,o,n,l){return(0,s.uX)(),(0,s.CE)("div",M,[(0,s.Lk)("div",P,null,512),(0,s.Lk)("div",x,null,512),(0,s.Lk)("div",K,I,512)])}var $=t(2693),X=t.n($),N=t(8832),F=t.n(N),_={data(){return{searchQuery:"",mapboxAccessToken:"pk.eyJ1IjoidGlibzYxIiwiYSI6ImNsc2ttaWd5NDA0anEya3JuN2F4cWJheDIifQ.8Y7HydMrAImeaYD6xPm_vg"}},mounted(){X().accessToken=this.mapboxAccessToken,this.map=new(X().Map)({container:this.$refs.map,style:"mapbox://styles/mapbox/streets-v11",center:[2.3522,48.8566],zoom:11,attributionControl:!1});const e=new(X().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0});if(this.map.addControl(e),window.innerWidth<=600){const e=new(F())({accessToken:X().accessToken,mapboxgl:X(),placeholder:"Entrez une adresse"}),a=e.onAdd(this.map);this.$refs.geocoderContainer.appendChild(a)}else{const e=new(F())({accessToken:X().accessToken,mapboxgl:X(),placeholder:"Entrez une adresse"});this.map.addControl(e,"top-left"),this.map.addControl(new(X().NavigationControl)({showCompass:!1}))}}},T=t(1241);const J=(0,T.A)(_,[["render",R],["__scopeId","data-v-e585516e"]]);var O=J;const V={class:"container"},S=(0,s.Lk)("div",{id:"openweathermap-widget-15"},null,-1),D=[S];function Q(e,a,t,o,n,l){return(0,s.uX)(),(0,s.CE)("div",V,D)}var W={mounted(){window.myWidgetParam?window.myWidgetParam:window.myWidgetParam=[],window.myWidgetParam.push({id:15,cityid:"3003603",appid:"740ecf1f34a8de40fb609316e481a77e",units:"metric",containerid:"openweathermap-widget-15"}),function(){var e=document.createElement("script");e.async=!0,e.charset="utf-8",e.src="//openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}()}};const z=(0,T.A)(W,[["render",Q]]);var q=z;const G=e=>((0,s.Qi)("data-v-0d9a4f0e"),e=e(),(0,s.jt)(),e),Z={key:0,class:"form-container"},H=G((()=>(0,s.Lk)("option",{disabled:"",value:""},"Veuillez sélectionner une catégorie",-1))),B=G((()=>(0,s.Lk)("option",null,"Jeans",-1))),Y=G((()=>(0,s.Lk)("option",null,"T-shirt",-1))),ee=G((()=>(0,s.Lk)("option",null,"Chaussette",-1))),ae=G((()=>(0,s.Lk)("option",null,"Chaussure",-1))),te=[H,B,Y,ee,ae],oe=G((()=>(0,s.Lk)("button",{type:"submit",class:"form-button"},"Ajouter le produit",-1))),se={key:0,class:"message"},ne={ref:"productsSection",class:"products-container"},le=["src","alt"],re={class:"button-container"},ie=["onClick"];function de(e,a,t,n,r,i){return(0,s.uX)(),(0,s.CE)("div",null,[n.isAdmin?((0,s.uX)(),(0,s.CE)("div",Z,[(0,s.Lk)("form",{onSubmit:a[4]||(a[4]=(0,o.D$)(((...e)=>n.addProduct&&n.addProduct(...e)),["prevent"])),class:"product-form"},[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>n.name=e),placeholder:"Nom du produit",class:"form-input"},null,512),[[o.Jo,n.name]]),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>n.image=e),placeholder:"URL de l'image",class:"form-input"},null,512),[[o.Jo,n.image]]),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>n.price=e),placeholder:"Prix du produit",class:"form-input"},null,512),[[o.Jo,n.price]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>n.category=e),class:"form-input"},te,512),[[o.u1,n.category]]),oe],32),n.message?((0,s.uX)(),(0,s.CE)("div",se,(0,l.v_)(n.message),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("div",ne,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.products,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.name,class:"product-item"},[(0,s.Lk)("img",{src:e.image,alt:e.name,class:"product-image",onLoad:a[5]||(a[5]=(...e)=>n.scrollToProduct&&n.scrollToProduct(...e))},null,40,le),(0,s.Lk)("div",null,(0,l.v_)(e.name),1),(0,s.Lk)("div",null,(0,l.v_)(e.price),1)])))),128))],512),(0,s.Lk)("div",re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:"category-button",onClick:a=>n.fetchProducts(e)},(0,l.v_)(e),9,ie)))),128))])])}var ce=t(144),ue=t(4161),me={setup(){const e=(0,ce.KR)(""),a=(0,ce.KR)(""),t=(0,ce.KR)(""),o=(0,ce.KR)(""),n=(0,ce.KR)(["Jeans","T-shirt","Chaussette","Chaussure"]),l=(0,ce.KR)([]),r=(0,ce.KR)(""),i=(0,w.Pj)(),d=(0,s.EW)((()=>i.state.admin)),c=async()=>{if(!o.value)return void(r.value="Veuillez sélectionner une catégorie.");const s=(0,ue.C3)(),n=(0,ue.KR)(s,`products/${o.value}/${e.value}`);(0,ue.hZ)(n,{name:e.value,image:a.value,price:t.value}),e.value="",a.value="",t.value="",o.value="",r.value="Le produit a été ajouté avec succès !",setTimeout((()=>{r.value=""}),3e3)},u=async e=>{const a=(0,ue.C3)(),t=(0,ue.KR)(a,`products/${e}`);(0,ue.Zy)(t,(e=>{l.value=e.val()}))},m=()=>{(0,s.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))};return(0,s.wB)(l,(()=>{(0,s.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))})),{isAdmin:d,name:e,image:a,price:t,category:o,categories:n,products:l,addProduct:c,fetchProducts:u,scrollToProduct:m,message:r}}};const pe=(0,T.A)(me,[["render",de],["__scopeId","data-v-0d9a4f0e"]]);var ve=pe,be={name:"HomePage",components:{AppMaps:O,MeteoApp:q,AppShop:ve},setup(){const e=(0,w.Pj)(),a=(0,s.EW)((()=>e.state.admin)),t=(0,s.EW)((()=>e.state.isLoggedIn));return{isAdmin:a,isLoggedIn:t}}};const ke=(0,T.A)(be,[["render",U]]);var ge=ke;const Le={class:"container mt-5"},he={class:"row justify-content-center"},fe={class:"col-md-12"},ye={class:"card"},Ce=(0,s.Lk)("div",{class:"card-header"},"Login",-1),we={class:"card-body"},Ae={class:"mb-3"},Ue=(0,s.Lk)("label",{class:"form-label"},"Email",-1),Ee={class:"mb-3"},Me=(0,s.Lk)("label",{class:"form-label"},"Password",-1),Pe=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1);function xe(e,a,t,n,l,r){return(0,s.uX)(),(0,s.CE)("div",Le,[(0,s.Lk)("div",he,[(0,s.Lk)("div",fe,[(0,s.Lk)("div",ye,[Ce,(0,s.Lk)("div",we,[(0,s.Lk)("form",{onSubmit:a[2]||(a[2]=(0,o.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,s.Lk)("div",Ae,[Ue,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=e=>n.email=e),class:"form-control",placeholder:"Email",required:""},null,512),[[o.Jo,n.email]])]),(0,s.Lk)("div",Ee,[Me,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>n.password=e),class:"form-control",placeholder:"Password",required:""},null,512),[[o.Jo,n.password]])]),Pe],32)])])])])])}var Ke=t(5600),je={setup(){const e=(0,w.Pj)(),a=(0,ce.KR)(""),t=(0,ce.KR)(""),o=async()=>{const o=(0,Ke.xI)();try{const s=await(0,Ke.x9)(o,t.value,a.value),n=s.user,l=(0,ue.C3)(),r=(0,ue.KR)(l,`users/${n.uid}`),i=await(0,ue.Jt)(r);i.exists()&&(n.username=i.val().username);const d=await e.dispatch("login",n);d?Mo.push("/admin-dashboard"):Mo.push("/"),e.dispatch("showNotification",{message:"Connexion réussie",type:"success"}),t.value="",a.value=""}catch(s){console.error(s.code),console.error(s.message),e.dispatch("showNotification",{message:s.message,type:"error"})}};return{email:t,password:a,login:o}}};const Ie=(0,T.A)(je,[["render",xe]]);var Re=Ie;const $e={class:"container mt-5"},Xe={class:"row justify-content-center"},Ne={class:"col-md-12"},Fe={class:"card"},_e=(0,s.Lk)("div",{class:"card-header"},"Inscription",-1),Te={class:"card-body"},Je={class:"mb-3"},Oe=(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1),Ve={class:"mb-3"},Se=(0,s.Lk)("label",{class:"form-label"},"Email",-1),De={class:"mb-3"},Qe=(0,s.Lk)("label",{class:"form-label"},"Mot de passe",-1),We=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"Inscription",-1),ze=(0,s.Lk)("br",null,null,-1);function qe(e,a,t,n,l,r){return(0,s.uX)(),(0,s.CE)("div",$e,[(0,s.Lk)("div",Xe,[(0,s.Lk)("div",Ne,[(0,s.Lk)("div",Fe,[_e,(0,s.Lk)("div",Te,[(0,s.Lk)("form",{onSubmit:a[3]||(a[3]=(0,o.D$)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[(0,s.Lk)("div",Je,[Oe,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>n.username=e),class:"form-control",placeholder:"Nom d'utilisateur",required:""},null,512),[[o.Jo,n.username]])]),(0,s.Lk)("div",Ve,[Se,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[1]||(a[1]=e=>n.email=e),class:"form-control",placeholder:"Email",required:""},null,512),[[o.Jo,n.email]])]),(0,s.Lk)("div",De,[Qe,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=e=>n.password=e),class:"form-control",placeholder:"Mot de passe",required:""},null,512),[[o.Jo,n.password]])]),We],32),ze])])])])])}var Ge={setup(){const e=(0,w.Pj)(),a=(0,ce.KR)(""),t=(0,ce.KR)(""),o=(0,ce.KR)(""),s=async()=>{const s=(0,Ke.xI)();(0,Ke.eG)(s);const n=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;if(n.test(o.value))if(t.value.length<6)e.dispatch("showNotification",{message:"Le mot de passe doit comporter au moins 6 caractères",type:"error"});else try{const n=await(0,Ke.eJ)(s,o.value,t.value),l=n.user,r=(0,ue.C3)(),i=(0,ue.KR)(r,`users/${l.uid}`);await(0,ue.hZ)(i,{admin:!1,email:l.email,username:a.value});const d=await(0,ue.Jt)(i);d.exists()&&(l.username=d.val().username,l.admin=d.val().admin);const c=await e.dispatch("login",l);c?Mo.push("/admin-dashboard"):Mo.push("/"),e.dispatch("showNotification",{message:"Inscription réussie",type:"success"}),a.value="",t.value="",o.value=""}catch(l){console.error(l.code),console.error(l.message),e.dispatch("showNotification",{message:l.message,type:"error"})}else e.dispatch("showNotification",{message:"L'email n'est pas valide",type:"error"})};return{username:a,password:t,email:o,register:s}}};const Ze=(0,T.A)(Ge,[["render",qe]]);var He=Ze,Be=t(4912);const Ye=e=>((0,s.Qi)("data-v-2900739f"),e=e(),(0,s.jt)(),e),ea={class:"not-found-container"},aa=Ye((()=>(0,s.Lk)("img",{src:Be,alt:"Logo",class:"logo"},null,-1))),ta=Ye((()=>(0,s.Lk)("h1",null,"404 Not Found",-1))),oa=Ye((()=>(0,s.Lk)("p",null,"La page que vous recherchez n'existe pas.",-1))),sa=[aa,ta,oa];function na(e,a,t,o,n,l){return(0,s.uX)(),(0,s.CE)("div",ea,sa)}var la={name:"NotFound"};const ra=(0,T.A)(la,[["render",na],["__scopeId","data-v-2900739f"]]);var ia=ra;const da={class:"tiles"},ca=(0,s.Lk)("h2",null,"User Management",-1),ua=(0,s.Lk)("h2",null,"Product Management",-1);function ma(e,a,t,o,n,l){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",da,[(0,s.bF)(r,{to:"/user-management",class:"tile"},{default:(0,s.k6)((()=>[ca])),_:1}),(0,s.bF)(r,{to:"/product-management",class:"tile"},{default:(0,s.k6)((()=>[ua])),_:1})])])}var pa={};const va=(0,T.A)(pa,[["render",ma]]);var ba=va;async function ka(e){const a=(0,ue.C3)(),t=(0,ue.KR)(a,`users/${e}`),o=await(0,ue.Jt)(t),s=o.val();if(s)return!0===s.admin;throw new Error("User does not exist")}var ga=(0,w.y$)({state:{isLoading:!0,isLoggedIn:!1,user:null,admin:!1,users:{},notification:{message:"",type:"info"}},mutations:{setLoading(e,a){e.isLoading=a},setUser(e,a){e.user=a,e.isLoggedIn=!!a,e.admin=!!a&&a.admin,localStorage.setItem("authToken",a.authToken)},setNotification(e,a){e.notification=a}},actions:{async init({dispatch:e}){return new Promise(((a,t)=>{const o=(0,Ke.hg)((0,Ke.xI)(),(t=>{t&&e("checkAdminStatus"),o(),a()}),t)}))},async login({commit:e},a){const t=await ka(a.uid);return e("setUser",{...a,admin:t}),t},logout({commit:e}){const a=(0,Ke.xI)();(0,Ke.CI)(a).then((()=>{e("setUser",null),localStorage.removeItem("authToken"),localStorage.removeItem("user")})).catch((e=>{console.error(e)}))},showNotification({commit:e},a){e("setNotification",a),setTimeout((()=>{e("setNotification",{message:"",type:"info"})}),3e3)},async checkAdminStatus({commit:e}){const a=(0,Ke.xI)(),t=a.currentUser;if(t)try{const a=await ka(t.uid),o=(0,ue.C3)(),s=(0,ue.KR)(o,`users/${t.uid}`),n=await(0,ue.Jt)(s);return n.exists()&&(t.username=n.val().username),e("setUser",{...t,admin:a}),Promise.resolve()}catch(o){return Promise.reject(o)}else{const a=JSON.parse(localStorage.getItem("user"));a&&e("setUser",a)}}}});const La=e=>((0,s.Qi)("data-v-16e0b028"),e=e(),(0,s.jt)(),e),ha={class:"mt-5"},fa={class:"col-6"},ya={class:"mb-3"},Ca=La((()=>(0,s.Lk)("label",{class:"form-label"},"Gestion des utilisateurs",-1))),wa=La((()=>(0,s.Lk)("hr",null,null,-1))),Aa=La((()=>(0,s.Lk)("div",null,null,-1))),Ua={class:"table-responsive"},Ea={class:"table table-striped"},Ma=La((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Nom d'utilisateur"),(0,s.Lk)("th",null,"Email"),(0,s.Lk)("th",null,"UID"),(0,s.Lk)("th",null,"Admin"),(0,s.Lk)("th",null,"Actions")])],-1))),Pa={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-check-circle-fill svg-icon",viewBox:"0 0 16 16"},xa=La((()=>(0,s.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323A.75.75 0 0 0 4.616 8.03l2.363 2.394a.75.75 0 0 0 1.06 0l4.886-4.976a.75.75 0 0 0-.025-1.065z"},null,-1))),Ka=[xa],ja={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle-fill svg-icon",viewBox:"0 0 16 16"},Ia=La((()=>(0,s.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.293-2.707a1 1 0 0 0-1.414-1.414L8 6.586 5.707 4.293a1 1 0 0 0-1.414 1.414L6.586 8l-2.293 2.293a1 1 0 0 0 1.414 1.414L8 9.414l2.293 2.293a1 1 0 0 0 1.414-1.414L9.414 8l2.293-2.293z"},null,-1))),Ra=[Ia],$a=["onClick"],Xa=["onClick"],Na=["onClick"],Fa={class:"modal-dialog"},_a={class:"modal-content"},Ta={class:"modal-header"},Ja=La((()=>(0,s.Lk)("h5",{class:"modal-title"},"Modifier l'utilisateur",-1))),Oa={class:"modal-body"},Va={class:"mb-3"},Sa=La((()=>(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1))),Da={class:"mb-3"},Qa=La((()=>(0,s.Lk)("label",{class:"form-label"},"Admin",-1))),Wa=La((()=>(0,s.Lk)("option",{value:!0},"True",-1))),za=La((()=>(0,s.Lk)("option",{value:!1},"False",-1))),qa=[Wa,za],Ga={class:"modal-footer"},Za={class:"modal-dialog"},Ha={class:"modal-content"},Ba={class:"modal-header"},Ya=La((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un utilisateur",-1))),et={class:"modal-body"},at={class:"mb-3"},tt=La((()=>(0,s.Lk)("label",{class:"form-label"},"Nom d'utilisateur",-1))),ot={class:"mb-3"},st=La((()=>(0,s.Lk)("label",{class:"form-label"},"Mot de passe",-1))),nt={class:"mb-3"},lt=La((()=>(0,s.Lk)("label",{class:"form-label"},"Email",-1))),rt={class:"mb-3"},it=La((()=>(0,s.Lk)("label",{class:"form-label"},"Admin",-1))),dt=La((()=>(0,s.Lk)("option",{value:!0},"True",-1))),ct=La((()=>(0,s.Lk)("option",{value:!1},"False",-1))),ut=[dt,ct],mt={key:0,class:"alert alert-danger"},pt={class:"modal-footer"};function vt(e,a,t,n,r,i){return(0,s.uX)(),(0,s.CE)("div",ha,[(0,s.Lk)("div",fa,[(0,s.Lk)("div",ya,[Ca,wa,(0,s.Lk)("button",{class:"btn btn-success mb-3",onClick:a[0]||(a[0]=(...e)=>n.openAddUserModal&&n.openAddUserModal(...e))},"Ajouter un utilisateur"),Aa])]),(0,s.Lk)("div",Ua,[(0,s.Lk)("table",Ea,[Ma,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.users,((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:a},[(0,s.Lk)("td",null,(0,l.v_)(e.username),1),(0,s.Lk)("td",null,(0,l.v_)(e.email),1),(0,s.Lk)("td",null,(0,l.v_)(a),1),(0,s.Lk)("td",null,[e.admin?((0,s.uX)(),(0,s.CE)("svg",Pa,Ka)):((0,s.uX)(),(0,s.CE)("svg",ja,Ra))]),(0,s.Lk)("td",null,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:t=>n.openEditUserModal(e,a)},"Modifier",8,$a),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:e=>n.deleteUser(a)},"Supprimer",8,Xa),(0,s.Lk)("button",{class:"btn btn-secondary me-2",onClick:e=>n.toggleAdmin(a)},"Changer le statut d'admin",8,Na)])])))),128))])])]),n.isEditUserModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["modal",{"show d-block":n.isEditUserModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Fa,[(0,s.Lk)("div",_a,[(0,s.Lk)("div",Ta,[Ja,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[1]||(a[1]=(...e)=>n.closeEditUserModal&&n.closeEditUserModal(...e))})]),(0,s.Lk)("div",Oa,[(0,s.Lk)("div",Va,[Sa,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>n.editedUser.username=e),class:"form-control"},null,512),[[o.Jo,n.editedUser.username]])]),(0,s.Lk)("div",Da,[Qa,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>n.editedUser.admin=e),class:"form-control"},qa,512),[[o.u1,n.editedUser.admin]])])]),(0,s.Lk)("div",Ga,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[4]||(a[4]=(...e)=>n.closeEditUserModal&&n.closeEditUserModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[5]||(a[5]=e=>n.editUser(n.editedUser,n.editedUser.uid))},"Enregistrer les modifications")])])])],2)):(0,s.Q3)("",!0),n.isAddUserModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,l.C4)(["modal",{"show d-block":n.isAddUserModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Za,[(0,s.Lk)("div",Ha,[(0,s.Lk)("div",Ba,[Ya,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[6]||(a[6]=(...e)=>n.closeAddUserModal&&n.closeAddUserModal(...e))})]),(0,s.Lk)("div",et,[(0,s.Lk)("div",at,[tt,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>n.newUser.username=e),class:"form-control"},null,512),[[o.Jo,n.newUser.username]])]),(0,s.Lk)("div",ot,[st,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":a[8]||(a[8]=e=>n.newUser.password=e),class:"form-control"},null,512),[[o.Jo,n.newUser.password]])]),(0,s.Lk)("div",nt,[lt,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":a[9]||(a[9]=e=>n.newUser.email=e),class:"form-control"},null,512),[[o.Jo,n.newUser.email]])]),(0,s.Lk)("div",rt,[it,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>n.newUser.admin=e),class:"form-control"},ut,512),[[o.u1,n.newUser.admin]])]),n.newUser.errorMessage?((0,s.uX)(),(0,s.CE)("div",mt,(0,l.v_)(n.newUser.errorMessage),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",pt,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[11]||(a[11]=(...e)=>n.closeAddUserModal&&n.closeAddUserModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[12]||(a[12]=(...e)=>n.addUser&&n.addUser(...e))},"Ajouter l'utilisateur")])])])],2)):(0,s.Q3)("",!0)])}var bt={setup(){const e=(0,ue.C3)(),a=(0,ce.KR)({}),t=(0,ce.KR)(!1),o=(0,ce.KR)({}),n=(0,ce.KR)(!1),l=(0,ce.KR)({});(0,s.sV)((async()=>{const t=(0,ue.KR)(e,"users");(0,ue.Zy)(t,(e=>{a.value=e.val()}))}));const r=async a=>{const t=(0,ue.KR)(e,`users/${a}`),o=await(0,ue.Jt)(t),s=o.val();await(0,ue.yo)(t,{admin:!s.admin})},i=(e,a)=>{o.value={...e,uid:a},t.value=!0,console.log(o.value)},d=()=>{t.value=!1},c=async(a,t)=>{const o=(0,ue.KR)(e,`users/${t}`);await(0,ue.yo)(o,{admin:a.admin,username:a.username}),d()},u=async e=>{const a=(0,Ke.xI)(),t=a.currentUser;if(t&&t.uid===e){await(0,Ke.hG)(t).catch((a=>{console.error(`Failed to delete user: ${e}`,a)}));const a=(0,ue.C3)(),o=(0,ue.KR)(a,`users/${e}`);await(0,ue.TF)(o).catch((a=>{console.error(`Failed to delete user from database: ${e}`,a)}))}else console.error("User does not exist or is not currently signed in:",e)},m=()=>{l.value={username:"",password:"",admin:!1},n.value=!0},p=()=>{n.value=!1},v=async()=>{const e=(0,Ke.xI)(),{username:a,password:t,email:o,admin:s}=l.value;try{const n=await(0,Ke.eJ)(e,o,t),l=n.user;await(0,Ke.r7)(l,{displayName:a});const r=(0,ue.C3)(),i=(0,ue.KR)(r,`users/${l.uid}`);await(0,ue.yo)(i,{admin:s,email:o,username:a}),p(),ga.dispatch("showNotification",{message:"Utilisateur ajouté avec succès",type:"success"})}catch(n){console.error(`Failed to create user: ${a}`,n.code,n.message),ga.dispatch("showNotification",{message:`Échec de l'ajout de l'utilisateur : ${n.message}`,type:"error"})}};return{users:a,toggleAdmin:r,isEditUserModalOpen:t,editedUser:o,openEditUserModal:i,closeEditUserModal:d,editUser:c,deleteUser:u,isAddUserModalOpen:n,newUser:l,openAddUserModal:m,closeAddUserModal:p,addUser:v}}},kt=t(25),gt=t.n(kt),Lt=t(2442),ht=t.n(Lt);"function"===typeof gt()&&gt()(bt),"function"===typeof ht()&&ht()(bt);const ft=(0,T.A)(bt,[["render",vt],["__scopeId","data-v-16e0b028"]]);var yt=ft;const Ct=e=>((0,s.Qi)("data-v-deb46594"),e=e(),(0,s.jt)(),e),wt={class:"mt-5"},At={class:"col-6"},Ut={class:"mb-3"},Et=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Gestion des Produits",-1))),Mt=["onClick"],Pt={class:"mb-3"},xt={class:"table-responsive"},Kt={class:"table table-striped"},jt=Ct((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Image"),(0,s.Lk)("th",null,"Nom du produit"),(0,s.Lk)("th",null,"Prix"),(0,s.Lk)("th",null,"Actions")])],-1))),It=["src"],Rt=["onClick"],$t=["onClick"],Xt={class:"modal-dialog"},Nt={class:"modal-content"},Ft={class:"modal-header"},_t=Ct((()=>(0,s.Lk)("h5",{class:"modal-title"},"Modifier le produit",-1))),Tt={class:"modal-body"},Jt={class:"mb-3"},Ot=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Nom du produit",-1))),Vt={class:"mb-3"},St=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Prix du produit",-1))),Dt={class:"mb-3"},Qt=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Lien de la photo du produit",-1))),Wt={class:"modal-footer"},zt={class:"modal-dialog"},qt={class:"modal-content"},Gt={class:"modal-header"},Zt=Ct((()=>(0,s.Lk)("h5",{class:"modal-title"},"Ajouter un produit",-1))),Ht={class:"modal-body"},Bt={class:"mb-3"},Yt=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Nom du produit",-1))),eo={class:"mb-3"},ao=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Prix du produit",-1))),to={class:"mb-3"},oo=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Lien de la photo du produit",-1))),so={class:"mb-3"},no=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Catégorie du produit",-1))),lo=["value"],ro=Ct((()=>(0,s.Lk)("option",{value:"new"},"Ajouter une nouvelle catégorie",-1))),io={key:0,class:"mb-3"},co=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Nom de la nouvelle catégorie",-1))),uo={class:"modal-footer"},mo={class:"modal-dialog"},po={class:"modal-content"},vo={class:"modal-header"},bo=Ct((()=>(0,s.Lk)("h5",{class:"modal-title"},"Supprimer une catégorie",-1))),ko={class:"modal-body"},go={class:"mb-3"},Lo=Ct((()=>(0,s.Lk)("label",{class:"form-label"},"Catégorie à supprimer",-1))),ho=["value"],fo={class:"modal-footer"};function yo(e,a,t,n,r,i){return(0,s.uX)(),(0,s.CE)("div",wt,[(0,s.Lk)("div",At,[(0,s.Lk)("div",Ut,[Et,(0,s.Lk)("div",null,[(0,s.Lk)("button",{class:"btn btn-outline-primary me-2",onClick:a[0]||(a[0]=e=>n.selectedCategory="")},"Tous les produits"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:"btn btn-outline-secondary me-2",onClick:a=>n.selectedCategory=e},(0,l.v_)(e),9,Mt)))),128))])]),(0,s.Lk)("div",Pt,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:a[1]||(a[1]=(...e)=>n.openAddProductModal&&n.openAddProductModal(...e))},"Ajouter un produit"),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:a[2]||(a[2]=(...e)=>n.openDeleteCategoryModal&&n.openDeleteCategoryModal(...e))},"Supprimer une catégorie")])]),(0,s.Lk)("div",xt,[(0,s.Lk)("table",Kt,[jt,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.filteredProducts,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.name},[(0,s.Lk)("td",null,[(0,s.Lk)("img",{src:e.image,alt:"Product image",class:"product-image"},null,8,It)]),(0,s.Lk)("td",null,(0,l.v_)(e.name),1),(0,s.Lk)("td",null,(0,l.v_)(e.price),1),(0,s.Lk)("td",null,[(0,s.Lk)("button",{class:"btn btn-primary me-2",onClick:a=>n.openEditModal(e)},"Modifier",8,Rt),(0,s.Lk)("button",{class:"btn btn-danger me-2",onClick:a=>n.deleteProduct(e,e.category)},"Supprimer",8,$t)])])))),128))])])]),n.isEditModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["modal",{"show d-block":n.isEditModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",Xt,[(0,s.Lk)("div",Nt,[(0,s.Lk)("div",Ft,[_t,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[3]||(a[3]=(...e)=>n.closeEditModal&&n.closeEditModal(...e))})]),(0,s.Lk)("div",Tt,[(0,s.Lk)("div",Jt,[Ot,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>n.editedProduct.name=e),class:"form-control"},null,512),[[o.Jo,n.editedProduct.name]])]),(0,s.Lk)("div",Vt,[St,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>n.editedProduct.price=e),class:"form-control"},null,512),[[o.Jo,n.editedProduct.price]])]),(0,s.Lk)("div",Dt,[Qt,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>n.editedProduct.image=e),class:"form-control"},null,512),[[o.Jo,n.editedProduct.image]])])]),(0,s.Lk)("div",Wt,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[7]||(a[7]=(...e)=>n.closeEditModal&&n.closeEditModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[8]||(a[8]=(...e)=>n.editProduct&&n.editProduct(...e))},"Enregistrer les modifications")])])])],2)):(0,s.Q3)("",!0),n.isAddProductModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,l.C4)(["modal",{"show d-block":n.isAddProductModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",zt,[(0,s.Lk)("div",qt,[(0,s.Lk)("div",Gt,[Zt,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[9]||(a[9]=(...e)=>n.closeAddProductModal&&n.closeAddProductModal(...e))})]),(0,s.Lk)("div",Ht,[(0,s.Lk)("div",Bt,[Yt,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>n.newProduct.name=e),class:"form-control"},null,512),[[o.Jo,n.newProduct.name]])]),(0,s.Lk)("div",eo,[ao,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=e=>n.newProduct.price=e),class:"form-control"},null,512),[[o.Jo,n.newProduct.price]])]),(0,s.Lk)("div",to,[oo,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=e=>n.newProduct.image=e),class:"form-control"},null,512),[[o.Jo,n.newProduct.image]])]),(0,s.Lk)("div",so,[no,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>n.newProduct.category=e),class:"form-control",onChange:a[14]||(a[14]=(...e)=>n.handleCategoryChange&&n.handleCategoryChange(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,l.v_)(e),9,lo)))),128)),ro],544),[[o.u1,n.newProduct.category]])]),n.isNewCategory?((0,s.uX)(),(0,s.CE)("div",io,[co,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[15]||(a[15]=e=>n.newCategory=e),class:"form-control"},null,512),[[o.Jo,n.newCategory]])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",uo,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[16]||(a[16]=(...e)=>n.closeAddProductModal&&n.closeAddProductModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[17]||(a[17]=(...e)=>n.addProduct&&n.addProduct(...e))},"Ajouter le produit")])])])],2)):(0,s.Q3)("",!0),n.isDeleteCategoryModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,l.C4)(["modal",{"show d-block":n.isDeleteCategoryModalOpen}]),tabindex:"-1"},[(0,s.Lk)("div",mo,[(0,s.Lk)("div",po,[(0,s.Lk)("div",vo,[bo,(0,s.Lk)("button",{type:"button",class:"btn-close",onClick:a[18]||(a[18]=(...e)=>n.closeDeleteCategoryModal&&n.closeDeleteCategoryModal(...e))})]),(0,s.Lk)("div",ko,[(0,s.Lk)("div",go,[Lo,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[19]||(a[19]=e=>n.categoryToDelete=e),class:"form-control"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,l.v_)(e),9,ho)))),128))],512),[[o.u1,n.categoryToDelete]])])]),(0,s.Lk)("div",fo,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a[20]||(a[20]=(...e)=>n.closeDeleteCategoryModal&&n.closeDeleteCategoryModal(...e))},"Fermer"),(0,s.Lk)("button",{type:"button",class:"btn btn-danger",onClick:a[21]||(a[21]=(...e)=>n.deleteCategory&&n.deleteCategory(...e))},"Supprimer la catégorie")])])])],2)):(0,s.Q3)("",!0)])}var Co={setup(){const e=(0,ce.KR)({}),a=(0,ce.KR)(""),t=(0,ue.C3)(),o=(0,A.rd)(),n=(0,w.Pj)(),l=(0,ce.KR)(""),r=(0,w.Pj)(),i=(0,ce.KR)(!1),d=(0,ce.KR)({}),c=(0,ce.KR)(!1),u=(0,ce.KR)({}),m=(0,ce.KR)(!1),p=(0,ce.KR)(""),v=(0,ce.KR)(!1),b=(0,ce.KR)(!1),k=(0,ce.KR)(""),g=()=>{k.value="",b.value=!0},L=()=>{b.value=!1},h=async()=>{const e=(0,ue.KR)(t,`products/${k.value}`),a=await(0,ue.Jt)(e),o=a.val();for(const s in o){const e=(0,ue.KR)(t,`products/${k.value}/${s}`);await(0,ue.TF)(e).catch((e=>{console.error(`Échec de la suppression du produit : ${s} dans la catégorie : ${k.value}`,e)}))}await(0,ue.TF)(e).catch((e=>{console.error(`Échec de la suppression de la catégorie : ${k.value}`,e)})),L()},f=()=>{"new"===u.value.category?(v.value=!0,u.value.category=""):v.value=!1},y=()=>{u.value={},c.value=!0},C=()=>{c.value=!1},U=async()=>{v.value&&(u.value.category=p.value);const e=(0,ue.KR)(t,`products/${u.value.category}/${u.value.name}`);await(0,ue.hZ)(e,{name:u.value.name,price:u.value.price,image:u.value.image}).catch((e=>{console.error(`Échec de l'ajout du produit : ${u.value.name} dans la catégorie : ${u.value.category}`,e)})),C()},E=()=>{p.value="",m.value=!0},M=()=>{m.value=!1},P=async()=>{const e=(0,ue.KR)(t,`products/${p.value}`),a={name:p.value,products:{}};await(0,ue.hZ)(e,a).catch((e=>{console.error(`Échec de l'ajout de la catégorie : ${p.value}`,e)})),M()};(0,s.sV)((async()=>{if(n.state.admin){const a=(0,ue.KR)(t,"products");(0,ue.Zy)(a,(a=>{e.value=a.val()}))}else o.push("/")}));const x=e=>{d.value={...e},i.value=!0},K=()=>{i.value=!1},j=async()=>{const e=(0,ue.KR)(t,`products/${d.value.category}/${d.value.name}`);await(0,ue.yo)(e,{name:d.value.name,price:d.value.price,image:d.value.image}).catch((e=>{console.error(`Échec de la modification du produit : ${d.value.name} dans la catégorie : ${d.value.category}`,e)})),K()},I=async(e,a)=>{if(a&&e.name){const o=(0,ue.KR)(t,`products/${a}`),s=await(0,ue.Jt)(o),n=s.val();if(1===Object.keys(n).length)return void r.dispatch("showNotification",{message:`Échec de la suppression du produit : ${e.name} est le dernier produit de la catégorie : ${a}. Vous ne pouvez pas supprimer le dernier produit d'une catégorie.`,type:"error"});const l=(0,ue.KR)(t,`products/${a}/${e.name}`);await(0,ue.TF)(l).catch((t=>{console.error(`Échec de la suppression du produit : ${e.name} dans la catégorie : ${a}`,t)}))}else console.error(`Échec de la suppression du produit : La catégorie ou le nom du produit n'est pas défini. Catégorie : ${a}, Nom du produit : ${e.name}`)},R=(0,s.EW)((()=>Object.keys(e.value))),$=(0,s.EW)((()=>{let t=[];if(e.value){for(const a in e.value){const o=Object.values(e.value[a]);for(const e of o)e.category=a,t.push(e)}a.value&&(t=t.filter((e=>e.category===a.value))),l.value&&(t=t.filter((e=>e.name.includes(l.value))))}return t}));return{products:e,editProduct:j,deleteProduct:I,categories:R,selectedCategory:a,filteredProducts:$,searchTerm:l,isEditModalOpen:i,editedProduct:d,openEditModal:x,closeEditModal:K,isAddProductModalOpen:c,newProduct:u,openAddProductModal:y,closeAddProductModal:C,addProduct:U,isAddCategoryModalOpen:m,newCategory:p,openAddCategoryModal:E,closeAddCategoryModal:M,addCategory:P,isNewCategory:v,handleCategoryChange:f,isDeleteCategoryModalOpen:b,categoryToDelete:k,openDeleteCategoryModal:g,closeDeleteCategoryModal:L,deleteCategory:h}}};const wo=(0,T.A)(Co,[["render",yo],["__scopeId","data-v-deb46594"]]);var Ao=wo;const Uo=[{path:"/admin-dashboard",name:"AdminDashboard",component:ba,meta:{requiresAdmin:!0}},{path:"/",name:"Home",component:ge},{path:"/login",name:"Login",component:Re},{path:"/register",name:"Register",component:He},{path:"/admin-dashboard",name:"AdminDashboard",component:ba},{path:"/:pathMatch(.*)*",name:"NotFound",component:ia},{path:"/admin-dashboard",name:"AdminDashboard",component:ba,meta:{requiresAdmin:!0}},{path:"/user-management",name:"UserManagement",component:yt,meta:{requiresAdmin:!0}},{path:"/product-management",name:"ProductManagement",component:Ao,meta:{requiresAdmin:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:ia}],Eo=(0,A.aE)({history:(0,A.LA)("/vuejs-projet-web/"),routes:Uo});Eo.beforeEach(((e,a,t)=>{e.matched.some((e=>e.meta.requiresAdmin))?ga.state.admin?t():t({name:"Home"}):("Login"===e.name||"Register"===e.name)&&ga.state.isLoggedIn?t({name:"Home"}):t()}));var Mo=Eo,Po={data(){return{logoUrl:t(4912)}},setup(){const e=(0,w.Pj)(),a=(0,s.EW)((()=>e.state.isLoggedIn)),t=(0,s.EW)((()=>e.state.user?e.state.user.username:"")),o=(0,s.EW)((()=>e.state.admin)),n=()=>{e.dispatch("logout"),e.commit("logout"),Mo.push("/"),e.dispatch("showNotification",{message:"Logged out successfully",type:"success"})};return{username:t,isLoggedIn:a,logout:n,isAdmin:o}}};const xo=(0,T.A)(Po,[["render",C],["__scopeId","data-v-64796ac8"]]);var Ko=xo;function jo(e,a,t,o,n,r){return t.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(`notification ${t.type}`)},(0,l.v_)(t.message),3)):(0,s.Q3)("",!0)}var Io={props:{message:{type:String,default:""},type:{type:String,default:"info"}}};const Ro=(0,T.A)(Io,[["render",jo],["__scopeId","data-v-09a62026"]]);var $o=Ro,Xo={components:{AppNavbar:Ko,NotificationApp:$o},setup(){const e=(0,w.Pj)(),a=(0,s.EW)((()=>e.state.notification));return{notification:a}},data(){return{pageTitre:"Accueil"}},mounted(){document.title=this.pageTitre}};const No=(0,T.A)(Xo,[["render",n]]);var Fo=No,_o=t(6400);const To={apiKey:"AIzaSyAJRp8WxcFUDzBzsRnqG-TZTUQG3jWGjnQ",authDomain:"vuejs-ae8a0.firebaseapp.com",databaseURL:"https://vuejs-ae8a0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"vuejs-ae8a0",storageBucket:"vuejs-ae8a0.appspot.com",messagingSenderId:"104652181195",appId:"1:104652181195:web:9bba7498e6fb88baa7d54e",measurementId:"G-2CJPHT3X6K"};(0,_o.Wp)(To),ga.dispatch("init").then((()=>{const e=(0,o.Ef)(Fo);e.use(ga),e.use(Mo),e.mount("#app")})).catch((e=>{console.error("Failed to init store: ",e)}))},25:function(){},2442:function(){},4912:function(e,a,t){"use strict";e.exports=t.p+"img/LogoToboo.f339544e.png"}},a={};function t(o){var s=a[o];if(void 0!==s)return s.exports;var n=a[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){var e=[];t.O=function(a,o,s,n){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],n=e[c][2];for(var r=!0,i=0;i<o.length;i++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var d=s();void 0!==d&&(a=d)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/vuejs-projet-web/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,o){var s,n,l=o[0],r=o[1],i=o[2],d=0;if(l.some((function(a){return 0!==e[a]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(i)var c=i(t)}for(a&&a(o);d<l.length;d++)n=l[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},o=self["webpackChunkprojet_web"]=self["webpackChunkprojet_web"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(7864)}));o=t.O(o)})();
//# sourceMappingURL=app.438c24cb.js.map
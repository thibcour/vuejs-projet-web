(function(){var e={9591:function(e,t,a){"use strict";var o=a(5130),n=a(6768);function s(e,t,a,o,s,r){const i=(0,n.g2)("AppNavbar"),c=(0,n.g2)("NotificationApp"),l=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(i),(0,n.bF)(c,{message:o.notification.message,type:o.notification.type},null,8,["message","type"]),(0,n.bF)(l)])}var r=a(4232);const i=e=>((0,n.Qi)("data-v-bcdec034"),e=e(),(0,n.jt)(),e),c={class:"navbar navbar-expand-lg navbar-dark bg-dark"},l={class:"container"},u=["src"],d=i((()=>(0,n.Lk)("a",{class:"navbar-brand",href:"#"},"Toboo",-1))),p=i((()=>(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1))),m={class:"collapse navbar-collapse",id:"navbarSupportedContent"},v={class:"navbar-nav ms-auto mb-2 mb-lg-0"},g={class:"nav-item"},f={key:0,class:"nav-item"},b={key:1,class:"nav-item"},k={key:2,class:"nav-item"},h={class:"nav-link"},L={key:3,class:"nav-item"};function y(e,t,a,o,s,i){const y=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("nav",c,[(0,n.Lk)("div",l,[(0,n.Lk)("img",{src:s.logoUrl,alt:"Logo",class:"navbar-logo"},null,8,u),d,p,(0,n.Lk)("div",m,[(0,n.Lk)("ul",v,[(0,n.Lk)("li",g,[(0,n.bF)(y,{class:"nav-link active",to:"/"},{default:(0,n.k6)((()=>[(0,n.eW)("Home")])),_:1})]),o.isLoggedIn?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("li",f,[(0,n.bF)(y,{class:"nav-link",to:"/login"},{default:(0,n.k6)((()=>[(0,n.eW)("Login")])),_:1})])),o.isLoggedIn?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("li",b,[(0,n.bF)(y,{class:"nav-link",to:"/register"},{default:(0,n.k6)((()=>[(0,n.eW)("Register")])),_:1})])),o.isLoggedIn?((0,n.uX)(),(0,n.CE)("li",k,[(0,n.Lk)("span",h,(0,r.v_)(o.user.username),1)])):(0,n.Q3)("",!0),o.isLoggedIn?((0,n.uX)(),(0,n.CE)("li",L,[(0,n.Lk)("button",{class:"btn btn-link nav-link",onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e))},"Logout")])):(0,n.Q3)("",!0)])])])])}var w=a(782),C={data(){return{logoUrl:a(4912)}},setup(){const e=(0,w.Pj)(),t=(0,n.EW)((()=>e.state.isLoggedIn)),a=(0,n.EW)((()=>e.state.user)),o=()=>{e.state.isLoggedIn=!1,e.state.user=null,e.state.admin=!1};return{isLoggedIn:t,user:a,logout:o}}},A=a(1241);const E=(0,A.A)(C,[["render",y],["__scopeId","data-v-bcdec034"]]);var j=E;function P(e,t,a,o,s,i){return a.message?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,r.C4)(`notification ${a.type}`)},(0,r.v_)(a.message),3)):(0,n.Q3)("",!0)}var _={props:{message:{type:String,default:""},type:{type:String,default:"info"}}};const T=(0,A.A)(_,[["render",P],["__scopeId","data-v-09a62026"]]);var R=T,x={components:{AppNavbar:j,NotificationApp:R},setup(){const e=(0,w.Pj)(),t=(0,n.EW)((()=>e.state.notification));return{notification:t}},data(){return{pageTitre:"Accueil"}},mounted(){document.title=this.pageTitre}};const I=(0,A.A)(x,[["render",s]]);var N=I,S=a(3225),U=a(6400),X=a(4161),K=(0,w.y$)({state:{isLoggedIn:!1,user:null,admin:!1,notification:{message:"",type:"info"}},mutations:{setNotification(e,t){e.notification=t}},actions:{showNotification({commit:e},t){e("setNotification",t),setTimeout((()=>{e("setNotification",{message:"",type:"info"})}),3e3)}},modules:{}}),F=a(1387);function W(e,t,a,o,s,r){const i=(0,n.g2)("AppMaps"),c=(0,n.g2)("MeteoApp"),l=(0,n.g2)("AppShop");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(i),(0,n.bF)(c),(0,n.bF)(l)])}const O=e=>((0,n.Qi)("data-v-e585516e"),e=e(),(0,n.jt)(),e),Q={class:"map-container"},V={ref:"geocoderContainer",class:"geocoder-container flex-center"},J={ref:"map",class:"map"},$={ref:"geolocateContainer",class:"geolocate-container"},q=O((()=>(0,n.Lk)("div",{class:"geolocate-control custom-geolocate-button"},null,-1))),z=[q];function M(e,t,a,o,s,r){return(0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",V,null,512),(0,n.Lk)("div",J,null,512),(0,n.Lk)("div",$,z,512)])}var B=a(2693),H=a.n(B),D=a(8832),G=a.n(D),Z={data(){return{searchQuery:"",mapboxAccessToken:{NODE_ENV:"production",BASE_URL:"/vuejs-projet-web/"}.VUE_APP_MAPBOX_ACCESS_TOKEN}},mounted(){H().accessToken=this.mapboxAccessToken,this.map=new(H().Map)({container:this.$refs.map,style:"mapbox://styles/mapbox/streets-v11",center:[2.3522,48.8566],zoom:11,attributionControl:!1});const e=new(H().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0});if(this.map.addControl(e),window.innerWidth<=600){const e=new(G())({accessToken:H().accessToken,mapboxgl:H(),placeholder:"Entrez une adresse"}),t=e.onAdd(this.map);this.$refs.geocoderContainer.appendChild(t)}else{const e=new(G())({accessToken:H().accessToken,mapboxgl:H(),placeholder:"Entrez une adresse"});this.map.addControl(e,"top-left"),this.map.addControl(new(H().NavigationControl)({showCompass:!1}))}}};const Y=(0,A.A)(Z,[["render",M],["__scopeId","data-v-e585516e"]]);var ee=Y;const te={class:"container"},ae=(0,n.Lk)("div",{id:"openweathermap-widget-15"},null,-1),oe=[ae];function ne(e,t,a,o,s,r){return(0,n.uX)(),(0,n.CE)("div",te,oe)}a(4114);var se={mounted(){window.myWidgetParam?window.myWidgetParam:window.myWidgetParam=[],window.myWidgetParam.push({id:15,cityid:"3003603",appid:"740ecf1f34a8de40fb609316e481a77e",units:"metric",containerid:"openweathermap-widget-15"}),function(){var e=document.createElement("script");e.async=!0,e.charset="utf-8",e.src="//openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}};const re=(0,A.A)(se,[["render",ne]]);var ie=re;const ce=e=>((0,n.Qi)("data-v-0d9a4f0e"),e=e(),(0,n.jt)(),e),le={key:0,class:"form-container"},ue=ce((()=>(0,n.Lk)("option",{disabled:"",value:""},"Veuillez sélectionner une catégorie",-1))),de=ce((()=>(0,n.Lk)("option",null,"Jeans",-1))),pe=ce((()=>(0,n.Lk)("option",null,"T-shirt",-1))),me=ce((()=>(0,n.Lk)("option",null,"Chaussette",-1))),ve=ce((()=>(0,n.Lk)("option",null,"Chaussure",-1))),ge=[ue,de,pe,me,ve],fe=ce((()=>(0,n.Lk)("button",{type:"submit",class:"form-button"},"Ajouter le produit",-1))),be={key:0,class:"message"},ke={ref:"productsSection",class:"products-container"},he=["src","alt"],Le={class:"button-container"},ye=["onClick"];function we(e,t,a,s,i,c){return(0,n.uX)(),(0,n.CE)("div",null,[s.isAdmin?((0,n.uX)(),(0,n.CE)("div",le,[(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>s.addProduct&&s.addProduct(...e)),["prevent"])),class:"product-form"},[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),placeholder:"Nom du produit",class:"form-input"},null,512),[[o.Jo,s.name]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.image=e),placeholder:"URL de l'image",class:"form-input"},null,512),[[o.Jo,s.image]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.price=e),placeholder:"Prix du produit",class:"form-input"},null,512),[[o.Jo,s.price]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.category=e),class:"form-input"},ge,512),[[o.u1,s.category]]),fe],32),s.message?((0,n.uX)(),(0,n.CE)("div",be,(0,r.v_)(s.message),1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",ke,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.products,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.name,class:"product-item"},[(0,n.Lk)("img",{src:e.image,alt:e.name,class:"product-image",onLoad:t[5]||(t[5]=(...e)=>s.scrollToProduct&&s.scrollToProduct(...e))},null,40,he),(0,n.Lk)("div",null,(0,r.v_)(e.name),1),(0,n.Lk)("div",null,(0,r.v_)(e.price),1)])))),128))],512),(0,n.Lk)("div",Le,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.categories,(e=>((0,n.uX)(),(0,n.CE)("button",{key:e,class:"category-button",onClick:t=>s.fetchProducts(e)},(0,r.v_)(e),9,ye)))),128))])])}var Ce=a(144),Ae={setup(){const e=(0,Ce.KR)(""),t=(0,Ce.KR)(""),a=(0,Ce.KR)(""),o=(0,Ce.KR)(""),s=(0,Ce.KR)(["Jeans","T-shirt","Chaussette","Chaussure"]),r=(0,Ce.KR)([]),i=(0,Ce.KR)(""),c=(0,w.Pj)(),l=(0,n.EW)((()=>c.state.admin)),u=async()=>{if(!o.value)return void(i.value="Veuillez sélectionner une catégorie.");const n=(0,X.C3)(),s=(0,X.KR)(n,`products/${o.value}/${e.value}`);(0,X.hZ)(s,{name:e.value,image:t.value,price:a.value}),e.value="",t.value="",a.value="",o.value="",i.value="Le produit a été ajouté avec succès !",setTimeout((()=>{i.value=""}),3e3)},d=async e=>{const t=(0,X.C3)(),a=(0,X.KR)(t,`products/${e}`);(0,X.Zy)(a,(e=>{r.value=e.val()}))},p=()=>{(0,n.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))};return(0,n.wB)(r,(()=>{(0,n.dY)((()=>{const e=document.querySelector(".product-image");e&&e.scrollIntoView({behavior:"smooth"})}))})),{isAdmin:l,name:e,image:t,price:a,category:o,categories:s,products:r,addProduct:u,fetchProducts:d,scrollToProduct:p,message:i}}};const Ee=(0,A.A)(Ae,[["render",we],["__scopeId","data-v-0d9a4f0e"]]);var je=Ee,Pe={name:"HomePage",components:{AppMaps:ee,MeteoApp:ie,AppShop:je},setup(){const e=(0,w.Pj)(),t=(0,n.EW)((()=>e.state.admin));return{isAdmin:t}}};const _e=(0,A.A)(Pe,[["render",W]]);var Te=_e;const Re={class:"container mt-5"},xe={class:"row justify-content-center"},Ie={class:"col-md-12"},Ne={class:"card"},Se=(0,n.Lk)("div",{class:"card-header"},"Login",-1),Ue={class:"card-body"},Xe={class:"mb-3"},Ke=(0,n.Lk)("label",{class:"form-label"},"Username",-1),Fe={class:"mb-3"},We=(0,n.Lk)("label",{class:"form-label"},"Password",-1),Oe=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1);function Qe(e,t,a,s,r,i){return(0,n.uX)(),(0,n.CE)("div",Re,[(0,n.Lk)("div",xe,[(0,n.Lk)("div",Ie,[(0,n.Lk)("div",Ne,[Se,(0,n.Lk)("div",Ue,[(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>s.login&&s.login(...e)),["prevent"]))},[(0,n.Lk)("div",Xe,[Ke,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),class:"form-control",placeholder:"Username",required:""},null,512),[[o.Jo,s.username]])]),(0,n.Lk)("div",Fe,[We,(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),class:"form-control",placeholder:"Password",required:""},null,512),[[o.Jo,s.password]])]),Oe],32)])])])])])}var Ve=a(3169),Je={setup(){const e=(0,w.Pj)(),t=(0,F.rd)(),a=(0,Ce.KR)(""),o=(0,Ce.KR)(""),n=async()=>{const n=(0,X.C3)(),s=(0,X.KR)(n,`users/${a.value}`),r=await(0,X.Jt)(s),i=r.val();i&&(0,Ve.SHA256)(o.value).toString()===i.password?(e.state.isLoggedIn=!0,e.state.user=i,e.state.admin=i.admin,e.dispatch("showNotification",{message:"Logged in successfully",type:"success"}),t.push("/")):e.dispatch("showNotification",{message:"Invalid username or password",type:"error"})};return{username:a,password:o,login:n}}};const $e=(0,A.A)(Je,[["render",Qe]]);var qe=$e;const ze={class:"container mt-5"},Me={class:"row justify-content-center"},Be={class:"col-md-12"},He={class:"card"},De=(0,n.Lk)("div",{class:"card-header"},"Register",-1),Ge={class:"card-body"},Ze={class:"mb-3"},Ye=(0,n.Lk)("label",{class:"form-label"},"Username",-1),et={class:"mb-3"},tt=(0,n.Lk)("label",{class:"form-label"},"Password",-1),at=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"Register",-1);function ot(e,t,a,s,r,i){return(0,n.uX)(),(0,n.CE)("div",ze,[(0,n.Lk)("div",Me,[(0,n.Lk)("div",Be,[(0,n.Lk)("div",He,[De,(0,n.Lk)("div",Ge,[(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>s.register&&s.register(...e)),["prevent"]))},[(0,n.Lk)("div",Ze,[Ye,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),class:"form-control",placeholder:"Username",required:""},null,512),[[o.Jo,s.username]])]),(0,n.Lk)("div",et,[tt,(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),class:"form-control",placeholder:"Password",required:""},null,512),[[o.Jo,s.password]])]),at],32)])])])])])}var nt={setup(){const e=(0,w.Pj)(),t=(0,Ce.KR)(""),a=(0,Ce.KR)(""),o=async()=>{const o=(0,X.C3)(),n=(0,X.KR)(o,`users/${t.value}`),s=await(0,X.Jt)(n),r=s.val();if(r)e.dispatch("showNotification",{message:"User already exists",type:"error"});else{const o=(0,Ve.SHA256)(a.value).toString();await(0,X.hZ)(n,{username:t.value,password:o,admin:!1}),e.dispatch("showNotification",{message:"Registered successfully",type:"success"})}};return{username:t,password:a,register:o}}};const st=(0,A.A)(nt,[["render",ot]]);var rt=st,it=a(4912);const ct=e=>((0,n.Qi)("data-v-2900739f"),e=e(),(0,n.jt)(),e),lt={class:"not-found-container"},ut=ct((()=>(0,n.Lk)("img",{src:it,alt:"Logo",class:"logo"},null,-1))),dt=ct((()=>(0,n.Lk)("h1",null,"404 Not Found",-1))),pt=ct((()=>(0,n.Lk)("p",null,"La page que vous recherchez n'existe pas.",-1))),mt=[ut,dt,pt];function vt(e,t,a,o,s,r){return(0,n.uX)(),(0,n.CE)("div",lt,mt)}var gt={name:"NotFound"};const ft=(0,A.A)(gt,[["render",vt],["__scopeId","data-v-2900739f"]]);var bt=ft;const kt=[{path:"/",name:"Home",component:Te},{path:"/login",name:"Login",component:qe},{path:"/register",name:"Register",component:rt},{path:"/:pathMatch(.*)*",name:"NotFound",component:bt}],ht=(0,F.aE)({history:(0,F.LA)("/vuejs-projet-web/"),routes:kt});var Lt=ht;const yt={apiKey:"AIzaSyAJRp8WxcFUDzBzsRnqG-TZTUQG3jWGjnQ",authDomain:"vuejs-ae8a0.firebaseapp.com",databaseURL:"https://vuejs-ae8a0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"vuejs-ae8a0",storageBucket:"vuejs-ae8a0.appspot.com",messagingSenderId:"104652181195",appId:"1:104652181195:web:9bba7498e6fb88baa7d54e",measurementId:"G-2CJPHT3X6K"};(0,U.Wp)(yt);const wt=(0,o.Ef)(N);wt.component("Carousel",S.FN),wt.component("Slide",S.q7),wt.use(K),wt.use(Lt),wt.mount("#app")},4912:function(e,t,a){"use strict";e.exports=a.p+"img/LogoToboo.f339544e.png"},477:function(){}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,s){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],s=e[u][2];for(var i=!0,c=0;c<o.length;c++)(!1&s||r>=s)&&Object.keys(a.O).every((function(e){return a.O[e](o[c])}))?o.splice(c--,1):(i=!1,s<r&&(r=s));if(i){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,n,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/vuejs-projet-web/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,s,r=o[0],i=o[1],c=o[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var u=c(a)}for(t&&t(o);l<r.length;l++)s=r[l],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},o=self["webpackChunkprojet_web"]=self["webpackChunkprojet_web"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(9591)}));o=a.O(o)})();
//# sourceMappingURL=app.324576c9.js.map